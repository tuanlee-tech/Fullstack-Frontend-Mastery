
## ğŸ§­ Parallel Intercepting Routes trong Next.js

### ğŸ¯ Má»¥c tiÃªu

* Hiá»ƒu cÃ¡ch **káº¿t há»£p Parallel Routes vÃ  Intercepting Routes**.
* Render **nhiá»u â€œlayerâ€ UI song song** trÃªn cÃ¹ng má»™t layout mÃ  khÃ´ng áº£nh hÆ°á»Ÿng láº«n nhau.
* VÃ­ dá»¥: má»Ÿ **modal** hoáº·c **sidebar** trong khi váº«n hiá»ƒn thá»‹ **content chÃ­nh**.

---

## ğŸ§± 1ï¸âƒ£ CÆ¡ cháº¿ hoáº¡t Ä‘á»™ng

* Parallel Route: dÃ¹ng cÃº phÃ¡p `(group)` Ä‘á»ƒ **tÃ¡ch cÃ¡c route song song**.
* Intercepting Route: route phá»¥ hiá»ƒn thá»‹ overlay, modal, hoáº·c sidebar.
* Káº¿t há»£p â†’ cÃ³ thá»ƒ **render nhiá»u component â€œkhÃ´ng liÃªn quanâ€ trong cÃ¹ng layout**.

```txt
app/
â”œâ”€â”€ dashboard/
â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”œâ”€â”€ page.tsx
â”‚   â”œâ”€â”€ (modals)/
â”‚   â”‚   â””â”€â”€ new-user/
â”‚   â”‚       â””â”€â”€ page.tsx
â”‚   â””â”€â”€ (sidebars)/
â”‚       â””â”€â”€ quick-settings/
â”‚           â””â”€â”€ page.tsx
```

* `/dashboard/(modals)/new-user` â†’ render modal overlay.
* `/dashboard/(sidebars)/quick-settings` â†’ render sidebar.
* Hai route cÃ³ thá»ƒ má»Ÿ **song song** mÃ  layout cha khÃ´ng bá»‹ reload.

---

## ğŸ§© 2ï¸âƒ£ VÃ­ dá»¥ minh há»a

```tsx
// app/dashboard/(sidebars)/quick-settings/page.tsx
"use client";
import { useRouter } from "next/navigation";

export default function QuickSettingsSidebar() {
  const router = useRouter();
  return (
    <aside
      style={{
        position: "fixed",
        top: 0,
        right: 0,
        width: "250px",
        height: "100vh",
        background: "#f4f4f4",
        padding: "1rem",
        boxShadow: "-2px 0 5px rgba(0,0,0,0.1)",
      }}
    >
      <h3>Quick Settings</h3>
      <button onClick={() => router.back()}>ÄÃ³ng</button>
    </aside>
  );
}
```

* Layout cha (`dashboard/layout.tsx`) váº«n hiá»ƒn thá»‹ **content chÃ­nh**.
* Modal vÃ  sidebar cÃ³ thá»ƒ **xuáº¥t hiá»‡n Ä‘á»“ng thá»i** nhá» Parallel Intercepting Routes.

---

## ğŸ’¡ 3ï¸âƒ£ Lá»£i Ã­ch

* Render **Ä‘a lá»›p UI** mÃ  khÃ´ng lÃ m reload layout.
* Quáº£n lÃ½ **state overlay** dá»… dÃ ng.
* GiÃºp xÃ¢y dá»±ng UI **modular, reusable, production-ready**.
---
ChÃºng ta sáº½ lÃ m má»™t **demo tá»•ng há»£p toÃ n bá»™ PHáº¦N 4 â€“ Advanced Routing**: bao gá»“m **Parallel Routes, Intercepting Routes, Parallel Intercepting Routes** káº¿t há»£p vá»›i **Nested Layouts** trong dashboard.

Má»¥c tiÃªu:

* Dashboard cÃ³ **content chÃ­nh** (Overview / Analytics)
* CÃ³ thá»ƒ má»Ÿ **Modal** thÃªm user
* CÃ³ thá»ƒ má»Ÿ **Sidebar nhanh** (Quick Settings) song song
* Layout cha **khÃ´ng reload** khi chuyá»ƒn route phá»¥
* URL váº«n rÃµ rÃ ng, modular, production-ready

---

## 1ï¸âƒ£ Cáº¥u trÃºc thÆ° má»¥c

```txt
app/
â”œâ”€â”€ dashboard/
â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”œâ”€â”€ page.tsx           // Dashboard Overview
â”‚   â”œâ”€â”€ analytics/
â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”œâ”€â”€ (modals)/
â”‚   â”‚   â””â”€â”€ new-user/
â”‚   â”‚       â””â”€â”€ page.tsx
â”‚   â””â”€â”€ (sidebars)/
â”‚       â””â”€â”€ quick-settings/
â”‚           â””â”€â”€ page.tsx
```

* `(modals)` â†’ Intercepting Route cho modal
* `(sidebars)` â†’ Intercepting Route cho sidebar
* Nested route: `/dashboard/analytics`

---

## 2ï¸âƒ£ Layout cha

```tsx
// app/dashboard/layout.tsx
import Link from "next/link";

export default function DashboardLayout({ children }: { children: React.ReactNode }) {
  return (
    <div style={{ display: "flex", minHeight: "100vh" }}>
      {/* Sidebar máº·c Ä‘á»‹nh */}
      <aside
        style={{
          width: "200px",
          background: "#f0f0f0",
          padding: "1rem",
        }}
      >
        <h3>ğŸ“‹ Dashboard Menu</h3>
        <nav style={{ display: "flex", flexDirection: "column", gap: "0.5rem" }}>
          <Link href="/dashboard">Overview</Link>
          <Link href="/dashboard/analytics">Analytics</Link>
          <Link href="/dashboard/(modals)/new-user">Add User Modal</Link>
          <Link href="/dashboard/(sidebars)/quick-settings">Quick Settings Sidebar</Link>
        </nav>
      </aside>

      {/* Content chÃ­nh */}
      <main style={{ flex: 1, padding: "1rem" }}>{children}</main>
    </div>
  );
}
```

---

## 3ï¸âƒ£ Pages

### 3.1 Overview

```tsx
// app/dashboard/page.tsx
export default function DashboardOverview() {
  return (
    <div>
      <h2>ğŸ“Š Dashboard Overview</h2>
      <p>Welcome to your dashboard summary view.</p>
    </div>
  );
}
```

### 3.2 Analytics

```tsx
// app/dashboard/analytics/page.tsx
export default function AnalyticsPage() {
  return (
    <div>
      <h2>ğŸ“ˆ Analytics</h2>
      <p>View your user engagement metrics here.</p>
    </div>
  );
}
```

---

## 4ï¸âƒ£ Modal (Intercepting Route)

```tsx
// app/dashboard/(modals)/new-user/page.tsx
"use client";
import { useRouter } from "next/navigation";

export default function NewUserModal() {
  const router = useRouter();

  return (
    <div
      style={{
        position: "fixed",
        inset: 0,
        background: "rgba(0,0,0,0.5)",
        display: "flex",
        justifyContent: "center",
        alignItems: "center",
      }}
    >
      <div style={{ background: "#fff", padding: "2rem", borderRadius: 8 }}>
        <h2>â• Add New User</h2>
        <button onClick={() => router.back()}>Close</button>
      </div>
    </div>
  );
}
```

---

## 5ï¸âƒ£ Quick Settings Sidebar (Parallel Intercepting Route)

```tsx
// app/dashboard/(sidebars)/quick-settings/page.tsx
"use client";
import { useRouter } from "next/navigation";

export default function QuickSettingsSidebar() {
  const router = useRouter();

  return (
    <aside
      style={{
        position: "fixed",
        top: 0,
        right: 0,
        width: "250px",
        height: "100vh",
        background: "#f4f4f4",
        padding: "1rem",
        boxShadow: "-2px 0 5px rgba(0,0,0,0.1)",
      }}
    >
      <h3>âš™ Quick Settings</h3>
      <button onClick={() => router.back()}>Close</button>
    </aside>
  );
}
```

---

## 6ï¸âƒ£ Hoáº¡t Ä‘á»™ng khi truy cáº­p

* `/dashboard` â†’ render **Overview + Layout**
* `/dashboard/analytics` â†’ render **Analytics + Layout**
* `/dashboard/(modals)/new-user` â†’ **Modal overlay** + Layout **khÃ´ng reload**
* `/dashboard/(sidebars)/quick-settings` â†’ **Sidebar overlay** + Layout **khÃ´ng reload**
* CÃ³ thá»ƒ má»Ÿ **modal vÃ  sidebar song song** mÃ  khÃ´ng máº¥t content chÃ­nh

---

## ğŸ’¡ Lá»£i Ã­ch demo

* TÃ­ch há»£p **Nested Layouts + Parallel Routes + Intercepting Routes**
* KhÃ´ng cáº§n props drilling, state cá»§a layout Ä‘Æ°á»£c giá»¯ nguyÃªn
* URL gá»n, modular, dá»… maintain
* CÃ³ thá»ƒ má»Ÿ nhiá»u â€œlayerâ€ UI mÃ  khÃ´ng reload page


---
[<< BÃ€I 29](./29.md) | [BÃ€I 31 >>](./31.md)