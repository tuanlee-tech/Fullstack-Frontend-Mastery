# Ngày 4

## Câu lệnh điều kiện

Câu lệnh điều kiện được sử dụng để đưa ra quyết định dựa trên các điều kiện khác nhau. Theo mặc định, các câu lệnh trong JavaScript được thực thi tuần tự từ trên xuống dưới. Tuy nhiên, luồng thực thi có thể thay đổi theo hai cách:

- **Thực thi có điều kiện**: Một khối mã sẽ được thực thi nếu một biểu thức là đúng.
- **Thực thi lặp lại**: Một khối mã sẽ được thực thi lặp lại miễn là một biểu thức là đúng.

Trong phần này, chúng ta sẽ tìm hiểu về các câu lệnh **if**, **else**, **else if**, **switch**, và **toán tử ba ngôi**. Các toán tử so sánh và logic đã học trước đó sẽ hữu ích ở đây.

Câu lệnh điều kiện có thể được triển khai theo các cách sau:

- if
- if else
- if else if else
- switch
- toán tử ba ngôi

### If

Từ khóa **if** được sử dụng để kiểm tra một điều kiện là đúng và thực thi khối mã tương ứng. Cú pháp sử dụng từ khóa **if**, điều kiện trong dấu ngoặc đơn, và khối mã trong dấu ngoặc nhọn `{}`.

```js
// Cú pháp
if (điều_kiện) {
  // Khối mã chạy nếu điều kiện là truthy
}
```

**Ví dụ:**

```js
let num = 3
if (num > 0) {
  console.log(`${num} là số dương`)
}
// 3 là số dương
```

Nếu điều kiện là sai (falsy), khối mã sẽ không được thực thi.

```js
let isRaining = true
if (isRaining) {
  console.log('Hãy mang áo mưa.')
}
// Hãy mang áo mưa.
```

### If Else

Nếu điều kiện là đúng, khối mã trong **if** sẽ chạy; nếu sai, khối mã trong **else** sẽ chạy.

```js
// Cú pháp
if (điều_kiện) {
  // Khối mã chạy nếu điều kiện là truthy
} else {
  // Khối mã chạy nếu điều kiện là falsy
}
```

**Ví dụ:**

```js
let num = 3
if (num > 0) {
  console.log(`${num} là số dương`)
} else {
  console.log(`${num} là số âm`)
}
// 3 là số dương

num = -3
if (num > 0) {
  console.log(`${num} là số dương`)
} else {
  console.log(`${num} là số âm`)
}
// -3 là số âm
```

```js
let isRaining = true
if (isRaining) {
  console.log('Bạn cần áo mưa.')
} else {
  console.log('Không cần áo mưa.')
}
// Bạn cần áo mưa.

isRaining = false
if (isRaining) {
  console.log('Bạn cần áo mưa.')
} else {
  console.log('Không cần áo mưa.')
}
// Không cần áo mưa.
```

### If Else if Else

Khi có nhiều điều kiện cần kiểm tra, sử dụng **else if**. Điều này tương tự cách chúng ta đưa ra quyết định trong cuộc sống với nhiều lựa chọn.

```js
// Cú pháp
if (điều_kiện_1) {
  // mã
} else if (điều_kiện_2) {
  // mã
} else {
  // mã
}
```

**Ví dụ:**

```js
let a = 0
if (a > 0) {
  console.log(`${a} là số dương`)
} else if (a < 0) {
  console.log(`${a} là số âm`)
} else if (a == 0) {
  console.log(`${a} là số 0`)
} else {
  console.log(`${a} không phải là số`)
}
// 0 là số 0
```

```js
let weather = 'sunny'
if (weather === 'rainy') {
  console.log('Bạn cần áo mưa.')
} else if (weather === 'cloudy') {
  console.log('Trời có thể lạnh, bạn cần áo khoác.')
} else if (weather === 'sunny') {
  console.log('Ra ngoài tự do.')
} else {
  console.log('Không cần áo mưa.')
}
// Ra ngoài tự do.
```

### Switch

**Switch** là một cách thay thế cho **if else if else**. Câu lệnh switch bắt đầu bằng từ khóa **switch**, theo sau là giá trị trong ngoặc đơn và khối mã. Bên trong khối mã là các **case**, mỗi case chạy nếu giá trị trong **switch** khớp với giá trị case. Từ khóa **break** dùng để dừng thực thi sau khi một case khớp. **default** chạy nếu không case nào khớp.

```js
// Cú pháp
switch (giá_trị) {
  case giá_trị_1:
    // mã
    break
  case giá_trị_2:
    // mã
    break
  default:
    // mã
}
```

**Ví dụ:**

```js
let weather = 'cloudy'
switch (weather) {
  case 'rainy':
    console.log('Bạn cần áo mưa.')
    break
  case 'cloudy':
    console.log('Trời có thể lạnh, bạn cần áo khoác.')
    break
  case 'sunny':
    console.log('Ra ngoài tự do.')
    break
  default:
    console.log('Không cần áo mưa.')
}
// Trời có thể lạnh, bạn cần áo khoác.
```

```js
let dayUserInput = prompt('Hôm nay là thứ mấy?')
let day = dayUserInput.toLowerCase()

switch (day) {
  case 'monday':
    console.log('Hôm nay là Thứ Hai')
    break
  case 'tuesday':
    console.log('Hôm nay là Thứ Ba')
    break
  case 'wednesday':
    console.log('Hôm nay là Thứ Tư')
    break
  case 'thursday':
    console.log('Hôm nay là Thứ Năm')
    break
  case 'friday':
    console.log('Hôm nay là Thứ Sáu')
    break
  case 'saturday':
    console.log('Hôm nay là Thứ Bảy')
    break
  case 'sunday':
    console.log('Hôm nay là Chủ Nhật')
    break
  default:
    console.log('Không phải ngày trong tuần.')
}
```

**Ví dụ với điều kiện trong case:**

```js
let num = prompt('Nhập số')
switch (true) {
  case num > 0:
    console.log('Số dương')
    break
  case num == 0:
    console.log('Số 0')
    break
  case num < 0:
    console.log('Số âm')
    break
  default:
    console.log('Giá trị nhập không phải số')
}
```

### Toán tử ba ngôi

Toán tử ba ngôi là cách viết điều kiện ngắn gọn, đã được đề cập trước đây.

```js
let isRaining = true
isRaining
  ? console.log('Bạn cần áo mưa.')
  : console.log('Không cần áo mưa.')
// Bạn cần áo mưa.
```

---

## Bài tập: Ngày 4

### Bài tập: Cấp độ 1

1. **Lấy tuổi người dùng bằng prompt và kiểm tra xem đủ 18 tuổi để lái xe chưa.**

```js
let age = prompt('Nhập tuổi của bạn:')
age = parseInt(age)
if (age >= 18) {
  console.log('Bạn đủ tuổi để lái xe.')
} else {
  console.log(`Bạn còn ${18 - age} năm để được lái xe.`)
}
```

**Giải thích**: Chuyển đầu vào thành số bằng `parseInt`, kiểm tra tuổi >= 18 để đưa ra thông báo phù hợp.

2. **So sánh myAge và yourAge bằng if … else, sử dụng prompt để lấy tuổi.**

```js
let myAge = 25
let yourAge = prompt('Nhập tuổi của bạn:')
yourAge = parseInt(yourAge)
if (yourAge > myAge) {
  console.log(`Bạn lớn hơn tôi ${yourAge - myAge} tuổi.`)
} else if (yourAge < myAge) {
  console.log(`Tôi lớn hơn bạn ${myAge - yourAge} tuổi.`)
} else {
  console.log('Chúng ta bằng tuổi.')
}
```

**Giải thích**: So sánh tuổi nhập vào với `myAge`, in kết quả dựa trên điều kiện.

3. **So sánh a và b, trả về 'a lớn hơn b' hoặc 'a nhỏ hơn b', dùng cả if else và toán tử ba ngôi.**

```js
let a = 4
let b = 3

// Cách 1: if else
if (a > b) {
  console.log('a lớn hơn b')
} else {
  console.log('a nhỏ hơn b')
}
// a lớn hơn b

// Cách 2: Toán tử ba ngôi
console.log(a > b ? 'a lớn hơn b' : 'a nhỏ hơn b')
// a lớn hơn b
```

**Giải thích**: Cả hai cách đều kiểm tra `a > b` để đưa ra kết quả phù hợp.

4. **Kiểm tra số chẵn hay lẻ bằng JavaScript.**

```js
let num = prompt('Nhập số:')
num = parseInt(num)
if (num % 2 === 0) {
  console.log(`${num} là số chẵn`)
} else {
  console.log(`${num} là số lẻ`)
}
```

**Giải thích**: Số chẵn khi chia cho 2 có dư 0 (`num % 2 === 0`).

---

### Bài tập: Cấp độ 2

1. **Viết mã để chấm điểm học sinh dựa trên số điểm:**
   - 80-100: A
   - 70-89: B
   - 60-69: C
   - 50-59: D
   - 0-49: F

```js
let score = prompt('Nhập điểm:')
score = parseInt(score)
if (score >= 80 && score <= 100) {
  console.log('A')
} else if (score >= 70 && score <= 89) {
  console.log('B')
} else if (score >= 60 && score <= 69) {
  console.log('C')
} else if (score >= 50 && score <= 59) {
  console.log('D')
} else if (score >= 0 && score <= 49) {
  console.log('F')
} else {
  console.log('Điểm không hợp lệ')
}
```

**Giải thích**: Kiểm tra điểm theo các khoảng và in ra cấp độ tương ứng.

2. **Kiểm tra mùa dựa trên tháng nhập vào:**
   - Tháng 9, 10, 11: Mùa thu
   - Tháng 12, 1, 2: Mùa đông
   - Tháng 3, 4, 5: Mùa xuân
   - Tháng 6, 7, 8: Mùa hè

```js
let month = prompt('Nhập tháng:').toLowerCase()
switch (month) {
  case 'september':
  case 'october':
  case 'november':
    console.log('Mùa thu')
    break
  case 'december':
  case 'january':
  case 'february':
    console.log('Mùa đông')
    break
  case 'march':
  case 'april':
  case 'may':
    console.log('Mùa xuân')
    break
  case 'june':
  case 'july':
  case 'august':
    console.log('Mùa hè')
    break
  default:
    console.log('Tháng không hợp lệ')
}
```

**Giải thích**: Chuyển tháng thành chữ thường, dùng **switch** để kiểm tra và in mùa tương ứng.

3. **Kiểm tra ngày là ngày cuối tuần hay ngày làm việc.**

```js
let day = prompt('Hôm nay là thứ mấy?').toLowerCase()
switch (day) {
  case 'saturday':
  case 'sunday':
    console.log(`${day.charAt(0).toUpperCase() + day.slice(1)} là ngày cuối tuần.`)
    break
  case 'monday':
  case 'tuesday':
  case 'wednesday':
  case 'thursday':
  case 'friday':
    console.log(`${day.charAt(0).toUpperCase() + day.slice(1)} là ngày làm việc.`)
    break
  default:
    console.log('Không phải ngày trong tuần.')
}
```

**Giải thích**: Chuyển ngày thành chữ thường, dùng **switch** để kiểm tra và in kết quả, viết hoa chữ cái đầu bằng `charAt` và `slice`.

---

### Bài tập: Cấp độ 3

1. **Viết chương trình trả về số ngày trong tháng.**

```js
let month = prompt('Nhập tháng:').toLowerCase()
switch (month) {
  case 'january':
  case 'march':
  case 'may':
  case 'july':
  case 'august':
  case 'october':
  case 'december':
    console.log(`${month.charAt(0).toUpperCase() + month.slice(1)} có 31 ngày.`)
    break
  case 'april':
  case 'june':
  case 'september':
  case 'november':
    console.log(`${month.charAt(0).toUpperCase() + month.slice(1)} có 30 ngày.`)
    break
  case 'february':
    console.log(`${month.charAt(0).toUpperCase() + month.slice(1)} có 28 ngày.`)
    break
  default:
    console.log('Tháng không hợp lệ.')
}
```

**Giải thích**: Kiểm tra tháng và trả về số ngày tương ứng (giả sử không tính năm nhuận).

2. **Viết chương trình trả về số ngày trong tháng, có tính năm nhuận.**

```js
let month = prompt('Nhập tháng:').toLowerCase()
let year = prompt('Nhập năm:')
year = parseInt(year)
let isLeapYear = (year % 4 === 0 && year % 100 !== 0) || (year % 400 === 0)

switch (month) {
  case 'january':
  case 'march':
  case 'may':
  case 'july':
  case 'august':
  case 'october':
  case 'december':
    console.log(`${month.charAt(0).toUpperCase() + month.slice(1)} có 31 ngày.`)
    break
  case 'april':
  case 'june':
  case 'september':
  case 'november':
    console.log(`${month.charAt(0).toUpperCase() + month.slice(1)} có 30 ngày.`)
    break
  case 'february':
    console.log(
      isLeapYear
        ? `${month.charAt(0).toUpperCase() + month.slice(1)} có 29 ngày.`
        : `${month.charAt(0).toUpperCase() + month.slice(1)} có 28 ngày.`
    )
    break
  default:
    console.log('Tháng không hợp lệ.')
}
```

**Giải thích**: Kiểm tra năm nhuận bằng công thức `(year % 4 === 0 && year % 100 !== 0) || (year % 400 === 0)`. Tháng 2 có 29 ngày nếu là năm nhuận, nếu không là 28 ngày.

---
[<< Ngày 3](./3.Booleans_Operators_Date.md) | [Ngày 5 >>](./5.Arrays.md)