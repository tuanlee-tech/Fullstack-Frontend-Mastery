# üìò Ng√†y 23 ‚Äì DOM (Document Object Model) ‚Äì Ph·∫ßn 3

## Event Listeners (Tr√¨nh l·∫Øng nghe s·ª± ki·ªán)

M·ªôt s·ªë s·ª± ki·ªán HTML ph·ªï bi·∫øn:

* `onclick`, `onchange`, `onmouseover`, `onmouseout`, `onkeydown`, `onkeyup`, `onload`.

Ch√∫ng ta c√≥ th·ªÉ th√™m **event listener** v√†o b·∫•t k·ª≥ ƒë·ªëi t∆∞·ª£ng DOM n√†o. D√πng ph∆∞∆°ng th·ª©c **`addEventListener()`** ƒë·ªÉ l·∫Øng nghe c√°c lo·∫°i s·ª± ki·ªán kh√°c nhau.

```js
selectedElement.addEventListener('eventType', function(e) {
  // h√†nh ƒë·ªông sau khi s·ª± ki·ªán x·∫£y ra
})

// ho·∫∑c d√πng arrow function
selectedElement.addEventListener('eventType', e => {
  // h√†nh ƒë·ªông
})
```

---

### Click

V√≠ d·ª• s·ª± ki·ªán click:

```html
<!DOCTYPE html>
<html>
  <body>
    <button>Click Me</button>
    <script>
      const button = document.querySelector('button')
      button.addEventListener('click', e => {
        console.log('ƒê·ªëi t∆∞·ª£ng s·ª± ki·ªán:', e)
        console.log('Ph·∫ßn t·ª≠ ƒë∆∞·ª£c ch·ªçn:', e.target)
        console.log('N·ªôi dung c·ªßa ph·∫ßn t·ª≠:', e.target.textContent)
      })
    </script>
  </body>
</html>
```

Ho·∫∑c g√°n tr·ª±c ti·∫øp trong HTML b·∫±ng `onclick`:

```html
<!DOCTYPE html>
<html>
  <body>
    <button onclick="clickMe()">Click Me</button>
    <script>
      const clickMe = () => {
        alert('C√≥ th·ªÉ g√°n s·ª± ki·ªán tr·ª±c ti·∫øp trong HTML')
      }
    </script>
  </body>
</html>
```

---

### Double Click

```html
<!DOCTYPE html>
<html>
  <body>
    <button>Click Me</button>
    <script>
      const button = document.querySelector('button')
      button.addEventListener('dblclick', e => {
        console.log('Double click:', e.target.textContent)
      })
    </script>
  </body>
</html>
```

---

### Mouse enter

```html
<!DOCTYPE html>
<html>
  <body>
    <button>Hover Me</button>
    <script>
      const button = document.querySelector('button')
      button.addEventListener('mouseenter', e => {
        console.log('Chu·ªôt v√†o:', e.target.textContent)
      })
    </script>
  </body>
</html>
```

---

### M·ªôt s·ªë s·ª± ki·ªán th∆∞·ªùng d√πng kh√°c

* `click` ‚Äì khi click
* `dblclick` ‚Äì khi double click
* `mouseenter` ‚Äì khi chu·ªôt v√†o
* `mouseleave` ‚Äì khi chu·ªôt r·ªùi
* `mousemove` ‚Äì khi chu·ªôt di chuy·ªÉn
* `input` ‚Äì khi nh·∫≠p gi√° tr·ªã
* `change` ‚Äì khi thay ƒë·ªïi gi√° tr·ªã
* `blur` ‚Äì khi m·∫•t focus
* `keydown`, `keyup`, `keypress` ‚Äì khi nh·∫•n ph√≠m
* `onload` ‚Äì khi trang t·∫£i xong

---

## L·∫•y gi√° tr·ªã t·ª´ input

V√≠ d·ª•: t√≠nh ch·ªâ s·ªë BMI t·ª´ input:

```html
<!DOCTYPE html>
<html>
  <body>
    <h1>Body Mass Index Calculator</h1>
    <input type="text" id="mass" placeholder="Mass in Kg" />
    <input type="text" id="height" placeholder="Height in meters" />
    <button>Calculate BMI</button>
    <script>
      const mass = document.querySelector('#mass')
      const height = document.querySelector('#height')
      const button = document.querySelector('button')

      button.addEventListener('click', () => {
        const bmi = mass.value / height.value ** 2
        alert(`Your BMI is ${bmi.toFixed(2)}`)
      })
    </script>
  </body>
</html>
```

---

### Input event & Change event

```html
<!DOCTYPE html>
<html>
  <body>
    <h1>Data Binding Example</h1>
    <input type="text" placeholder="Say something" />
    <p></p>
    <script>
      const input = document.querySelector('input')
      const p = document.querySelector('p')

      input.addEventListener('input', e => {
        p.textContent = e.target.value
      })
    </script>
  </body>
</html>
```

---

### Blur event

```html
<!DOCTYPE html>
<html>
  <body>
    <h1>Blur event example</h1>
    <input type="text" placeholder="Type something" />
    <p></p>
    <script>
      const input = document.querySelector('input')
      const p = document.querySelector('p')

      input.addEventListener('blur', () => {
        p.textContent = 'Field is required'
        p.style.color = 'red'
      })
    </script>
  </body>
</html>
```

---

### Key events (keypress, keydown, keyup)

```html
<!DOCTYPE html>
<html>
  <body>
    <h1>Press any key</h1>
    <script>
      document.body.addEventListener('keypress', e => {
        alert(`Key: ${e.key}, Code: ${e.keyCode}`)
      })
    </script>
  </body>
</html>
```

---

# üìù B√†i t·∫≠p

## üîπ Exercise Level 1

### 1. Sinh d√£y s·ªë 1 ‚Üí 100 v√† ƒë√°nh m√†u

* S·ªë **ch·∫µn** ‚Üí n·ªÅn xanh
* S·ªë **l·∫ª** ‚Üí n·ªÅn v√†ng
* S·ªë **nguy√™n t·ªë** ‚Üí n·ªÅn ƒë·ªè

```html
<!DOCTYPE html>
<html>
<head>
  <style>
    .container {
      display: grid;
      grid-template-columns: repeat(10, 1fr);
      gap: 5px;
      max-width: 500px;
      margin: auto;
    }
    .box {
      padding: 15px;
      font-size: 18px;
      font-weight: bold;
      text-align: center;
      color: white;
      border-radius: 4px;
    }
  </style>
</head>
<body>
  <h1 align="center">Number Generator</h1>
  <div class="container"></div>
  <script>
    const container = document.querySelector('.container')

    function isPrime(num) {
      if (num < 2) return false
      for (let i = 2; i <= Math.sqrt(num); i++) {
        if (num % i === 0) return false
      }
      return true
    }

    for (let i = 1; i <= 100; i++) {
      const div = document.createElement('div')
      div.className = 'box'
      div.textContent = i

      if (isPrime(i)) {
        div.style.background = 'red'
      } else if (i % 2 === 0) {
        div.style.background = 'green'
      } else {
        div.style.background = 'yellow'
        div.style.color = 'black'
      }

      container.appendChild(div)
    }
  </script>
</body>
</html>
```

---

### 2. Hi·ªÉn th·ªã m√£ ph√≠m khi nh·∫•n b√†n ph√≠m

```html
<!DOCTYPE html>
<html>
<head>
  <style>
    body { text-align: center; font-family: Arial; }
    .key-box {
      display: inline-block;
      margin-top: 50px;
      padding: 20px 40px;
      font-size: 30px;
      border: 2px solid #333;
      border-radius: 6px;
      background: #f2f2f2;
    }
  </style>
</head>
<body>
  <h1>Press any key</h1>
  <div class="key-box">Key Code will appear here</div>

  <script>
    const box = document.querySelector('.key-box')

    document.body.addEventListener('keydown', e => {
      box.textContent = `Key: ${e.key} | Code: ${e.keyCode}`
    })
  </script>
</body>
</html>
```

---
[<< Ng√†y 22](./22.Manipulating_DOM_Object.md) | [Ng√†y 24 >>](./24.Mini_Project:_Solar_System.md)