
## ğŸ§­ Parallel Intercepting Routes trong Next.js

### ğŸ¯ Má»¥c tiÃªu

* Hiá»ƒu cÃ¡ch **káº¿t há»£p Parallel Routes vÃ  Intercepting Routes**.
* Render **nhiá»u â€œlayerâ€ UI song song** trÃªn cÃ¹ng má»™t layout mÃ  khÃ´ng áº£nh hÆ°á»Ÿng láº«n nhau.
* VÃ­ dá»¥: má»Ÿ **modal** hoáº·c **sidebar** trong khi váº«n hiá»ƒn thá»‹ **content chÃ­nh**.

---

## ğŸ§± 1ï¸âƒ£ CÆ¡ cháº¿ hoáº¡t Ä‘á»™ng

* Parallel Route: dÃ¹ng cÃº phÃ¡p `(group)` Ä‘á»ƒ **tÃ¡ch cÃ¡c route song song**.
* Intercepting Route: route phá»¥ hiá»ƒn thá»‹ overlay, modal, hoáº·c sidebar.
* Káº¿t há»£p â†’ cÃ³ thá»ƒ **render nhiá»u component â€œkhÃ´ng liÃªn quanâ€ trong cÃ¹ng layout**.

```txt
app/
â”œâ”€â”€ dashboard/
â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”œâ”€â”€ page.tsx
â”‚   â”œâ”€â”€ (modals)/
â”‚   â”‚   â””â”€â”€ new-user/
â”‚   â”‚       â””â”€â”€ page.tsx
â”‚   â””â”€â”€ (sidebars)/
â”‚       â””â”€â”€ quick-settings/
â”‚           â””â”€â”€ page.tsx
```

* `/dashboard/(modals)/new-user` â†’ render modal overlay.
* `/dashboard/(sidebars)/quick-settings` â†’ render sidebar.
* Hai route cÃ³ thá»ƒ má»Ÿ **song song** mÃ  layout cha khÃ´ng bá»‹ reload.

---

## ğŸ§© 2ï¸âƒ£ VÃ­ dá»¥ minh há»a

```tsx
// app/dashboard/(sidebars)/quick-settings/page.tsx
"use client";
import { useRouter } from "next/navigation";

export default function QuickSettingsSidebar() {
  const router = useRouter();
  return (
    <aside
      style={{
        position: "fixed",
        top: 0,
        right: 0,
        width: "250px",
        height: "100vh",
        background: "#f4f4f4",
        padding: "1rem",
        boxShadow: "-2px 0 5px rgba(0,0,0,0.1)",
      }}
    >
      <h3>Quick Settings</h3>
      <button onClick={() => router.back()}>ÄÃ³ng</button>
    </aside>
  );
}
```

* Layout cha (`dashboard/layout.tsx`) váº«n hiá»ƒn thá»‹ **content chÃ­nh**.
* Modal vÃ  sidebar cÃ³ thá»ƒ **xuáº¥t hiá»‡n Ä‘á»“ng thá»i** nhá» Parallel Intercepting Routes.

---

## ğŸ’¡ 3ï¸âƒ£ Lá»£i Ã­ch

* Render **Ä‘a lá»›p UI** mÃ  khÃ´ng lÃ m reload layout.
* Quáº£n lÃ½ **state overlay** dá»… dÃ ng.
* GiÃºp xÃ¢y dá»±ng UI **modular, reusable, production-ready**.
---
ChÃºng ta sáº½ lÃ m má»™t **demo tá»•ng há»£p toÃ n bá»™ PHáº¦N 4 â€“ Advanced Routing**: bao gá»“m **Parallel Routes, Intercepting Routes, Parallel Intercepting Routes** káº¿t há»£p vá»›i **Nested Layouts** trong dashboard.

Má»¥c tiÃªu:

* Dashboard cÃ³ **content chÃ­nh** (Overview / Analytics)
* CÃ³ thá»ƒ má»Ÿ **Modal** thÃªm user
* CÃ³ thá»ƒ má»Ÿ **Sidebar nhanh** (Quick Settings) song song
* Layout cha **khÃ´ng reload** khi chuyá»ƒn route phá»¥
* URL váº«n rÃµ rÃ ng, modular, production-ready

---

## 1ï¸âƒ£ Cáº¥u trÃºc thÆ° má»¥c

```txt
app/
â”œâ”€â”€ dashboard/
â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”œâ”€â”€ page.tsx           // Dashboard Overview
â”‚   â”œâ”€â”€ analytics/
â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”œâ”€â”€ (modals)/
â”‚   â”‚   â””â”€â”€ new-user/
â”‚   â”‚       â””â”€â”€ page.tsx
â”‚   â””â”€â”€ (sidebars)/
â”‚       â””â”€â”€ quick-settings/
â”‚           â””â”€â”€ page.tsx
```

* `(modals)` â†’ Intercepting Route cho modal
* `(sidebars)` â†’ Intercepting Route cho sidebar
* Nested route: `/dashboard/analytics`

---

## 2ï¸âƒ£ Layout cha

```tsx
// app/dashboard/layout.tsx
import Link from "next/link";

export default function DashboardLayout({ children }: { children: React.ReactNode }) {
  return (
    <div style={{ display: "flex", minHeight: "100vh" }}>
      {/* Sidebar máº·c Ä‘á»‹nh */}
      <aside
        style={{
          width: "200px",
          background: "#f0f0f0",
          padding: "1rem",
        }}
      >
        <h3>ğŸ“‹ Dashboard Menu</h3>
        <nav style={{ display: "flex", flexDirection: "column", gap: "0.5rem" }}>
          <Link href="/dashboard">Overview</Link>
          <Link href="/dashboard/analytics">Analytics</Link>
          <Link href="/dashboard/(modals)/new-user">Add User Modal</Link>
          <Link href="/dashboard/(sidebars)/quick-settings">Quick Settings Sidebar</Link>
        </nav>
      </aside>

      {/* Content chÃ­nh */}
      <main style={{ flex: 1, padding: "1rem" }}>{children}</main>
    </div>
  );
}
```

---

## 3ï¸âƒ£ Pages

### 3.1 Overview

```tsx
// app/dashboard/page.tsx
export default function DashboardOverview() {
  return (
    <div>
      <h2>ğŸ“Š Dashboard Overview</h2>
      <p>Welcome to your dashboard summary view.</p>
    </div>
  );
}
```

### 3.2 Analytics

```tsx
// app/dashboard/analytics/page.tsx
export default function AnalyticsPage() {
  return (
    <div>
      <h2>ğŸ“ˆ Analytics</h2>
      <p>View your user engagement metrics here.</p>
    </div>
  );
}
```

---

## 4ï¸âƒ£ Modal (Intercepting Route)

```tsx
// app/dashboard/(modals)/new-user/page.tsx
"use client";
import { useRouter } from "next/navigation";

export default function NewUserModal() {
  const router = useRouter();

  return (
    <div
      style={{
        position: "fixed",
        inset: 0,
        background: "rgba(0,0,0,0.5)",
        display: "flex",
        justifyContent: "center",
        alignItems: "center",
      }}
    >
      <div style={{ background: "#fff", padding: "2rem", borderRadius: 8 }}>
        <h2>â• Add New User</h2>
        <button onClick={() => router.back()}>Close</button>
      </div>
    </div>
  );
}
```

---

## 5ï¸âƒ£ Quick Settings Sidebar (Parallel Intercepting Route)

```tsx
// app/dashboard/(sidebars)/quick-settings/page.tsx
"use client";
import { useRouter } from "next/navigation";

export default function QuickSettingsSidebar() {
  const router = useRouter();

  return (
    <aside
      style={{
        position: "fixed",
        top: 0,
        right: 0,
        width: "250px",
        height: "100vh",
        background: "#f4f4f4",
        padding: "1rem",
        boxShadow: "-2px 0 5px rgba(0,0,0,0.1)",
      }}
    >
      <h3>âš™ Quick Settings</h3>
      <button onClick={() => router.back()}>Close</button>
    </aside>
  );
}
```

---

## 6ï¸âƒ£ CÃ¡ch hoáº¡t Ä‘á»™ng

| URL                                    | Káº¿t quáº£                                                            |
| -------------------------------------- | ------------------------------------------------------------------ |
| `/dashboard`                           | Hiá»ƒn thá»‹ layout + Overview                                         |
| `/dashboard/analytics`                 | Layout giá»¯ nguyÃªn, chá»‰ Ä‘á»•i ná»™i dung chÃ­nh                          |
| `/dashboard/(modals)/new-user`         | Hiá»ƒn thá»‹ modal overlay, layout khÃ´ng reload                        |
| `/dashboard/(sidebars)/quick-settings` | Sidebar má»Ÿ thÃªm á»Ÿ cáº¡nh pháº£i                                        |
| Má»Ÿ cáº£ hai song song                    | Cáº£ modal vÃ  sidebar cÃ¹ng hiá»ƒn thá»‹, layout cha váº«n giá»¯ nguyÃªn state |

---

## ğŸ’¡ Lá»£i Ã­ch

| Æ¯u Ä‘iá»ƒm             | MÃ´ táº£                                                   |
| ------------------- | ------------------------------------------------------- |
| ğŸ§© Modular UI       | Dá»… chia component vÃ  route theo layer                   |
| ğŸš€ Hiá»‡u nÄƒng cao    | KhÃ´ng reload layout, giá»¯ nguyÃªn state                   |
| ğŸªŸ UX tá»‘t           | Modal/Sidebar Ä‘á»™c láº­p, Ä‘iá»u hÆ°á»›ng nháº¹ nhÃ ng             |
| ğŸ§± Production-ready | Dá»… scale UI phá»©c táº¡p, vÃ­ dá»¥: dashboard, CMS, social app |

---

## ğŸ§  Gá»£i Ã½ má»Ÿ rá»™ng

* DÃ¹ng `@modal` vÃ  `@sidebar` lÃ m **Parallel Slot** Ä‘á»ƒ tÃ¡ch render song song rÃµ rÃ ng hÆ¡n.
* Káº¿t há»£p `loading.tsx` cho UX mÆ°á»£t mÃ  khi táº£i modal hoáº·c sidebar.
* Gáº¯n thÃªm **error.tsx** riÃªng cho tá»«ng vÃ¹ng UI Ä‘á»ƒ cÃ´ láº­p lá»—i.

---

## âš™ï¸ TÃ³m táº¯t cÆ¡ cháº¿

| ThÃ nh pháº§n              | Nhiá»‡m vá»¥                                         |
| ----------------------- | ------------------------------------------------ |
| **Parallel Routes**     | Cho phÃ©p render nhiá»u vÃ¹ng UI song song          |
| **Intercepting Routes** | Hiá»ƒn thá»‹ UI overlay táº¡m thá»i trÃªn route hiá»‡n táº¡i |
| **Káº¿t há»£p cáº£ hai**      | Modal, Sidebar, Drawer cÃ¹ng tá»“n táº¡i Ä‘á»™c láº­p      |
| **router.back()**       | Quay vá» route trÆ°á»›c, Ä‘Ã³ng overlay                |


---
[<< BÃ€I 29](./29.md) | [BÃ€I 31 >>](./31.md)