**ğŸ“˜ Multiple Root Layouts (Nhiá»u Root Layouts)** â€” má»™t tÃ­nh nÄƒng nÃ¢ng cao giÃºp báº¡n táº¡o **nhiá»u khu vá»±c tÃ¡ch biá»‡t hoÃ n toÃ n trong cÃ¹ng á»©ng dá»¥ng** Next.js.

---

# ğŸ¯ Má»¥c tiÃªu

* Hiá»ƒu sá»± khÃ¡c biá»‡t giá»¯a **layout lá»“ng nhau (nested)** vÃ  **multiple root layouts**
* Biáº¿t khi nÃ o nÃªn dÃ¹ng **multiple root layout** thay vÃ¬ **nested layout**
* Thá»±c hÃ nh táº¡o **app/(auth)** vÃ  **app/(main)** tÃ¡ch biá»‡t giao diá»‡n

---

## ğŸ§© 1ï¸âƒ£ Váº¥n Ä‘á» thá»±c táº¿

Trong cÃ¡c á»©ng dá»¥ng lá»›n, báº¡n cÃ³ nhiá»u khu vá»±c tÃ¡ch biá»‡t:

* Khu vá»±c **public** (home, about, contact)
* Khu vá»±c **authenticated** (dashboard, profile)
* Khu vá»±c **auth** (login, register, forgot password)

Má»—i khu vá»±c cÃ³ **layout riÃªng biá»‡t**, khÃ´ng káº¿ thá»«a `RootLayout` chung.
VÃ­ dá»¥:

* Khu vá»±c Ä‘Äƒng nháº­p khÃ´ng cÃ³ header, sidebar
* Dashboard cÃ³ sidebar riÃªng
* Public pages dÃ¹ng layout khÃ¡c

---

## ğŸ§± 2ï¸âƒ£ Giáº£i phÃ¡p â€” Route Groups & Multiple Root Layouts

Báº¡n cÃ³ thá»ƒ dÃ¹ng **Route Groups** Ä‘á»ƒ tÃ¡ch layout gá»‘c, vÃ­ dá»¥:

```
app/
â”œâ”€â”€ (main)/
â”‚   â”œâ”€â”€ layout.tsx      â† Root layout cho trang public
â”‚   â”œâ”€â”€ page.tsx
â”‚   â””â”€â”€ about/
â”‚       â””â”€â”€ page.tsx
â”œâ”€â”€ (dashboard)/
â”‚   â”œâ”€â”€ layout.tsx      â† Root layout riÃªng cho dashboard
â”‚   â”œâ”€â”€ page.tsx
â”‚   â””â”€â”€ settings/
â”‚       â””â”€â”€ page.tsx
â””â”€â”€ (auth)/
    â”œâ”€â”€ layout.tsx      â† Root layout riÃªng cho login/register
    â”œâ”€â”€ login/
    â”‚   â””â”€â”€ page.tsx
    â””â”€â”€ register/
        â””â”€â”€ page.tsx
```

---

## âš™ï¸ 3ï¸âƒ£ VÃ­ dá»¥ thá»±c táº¿

### ğŸ“„ `app/(main)/layout.tsx`

```tsx
import Link from "next/link";

export default function MainLayout({ children }: { children: React.ReactNode }) {
  return (
    <html lang="en">
      <body className="bg-gray-50 text-gray-900">
        <header className="p-4 bg-white border-b shadow">
          <nav className="flex gap-4">
            <Link href="/">Home</Link>
            <Link href="/about">About</Link>
            <Link href="/dashboard">Dashboard</Link>
          </nav>
        </header>
        <main className="p-6">{children}</main>
      </body>
    </html>
  );
}
```

---

### ğŸ“„ `app/(main)/page.tsx`

```tsx
export default function HomePage() {
  return (
    <section>
      <h1 className="text-2xl font-bold">ğŸ  Home Page</h1>
      <p>Welcome to our main site!</p>
    </section>
  );
}
```

---

### ğŸ“„ `app/(dashboard)/layout.tsx`

```tsx
import Link from "next/link";

export default function DashboardLayout({ children }: { children: React.ReactNode }) {
  return (
    <html lang="en">
      <body className="flex min-h-screen">
        <aside className="w-64 bg-gray-100 p-6 border-r">
          <h2 className="text-lg font-bold mb-4">ğŸ“Š Dashboard</h2>
          <nav className="flex flex-col gap-2">
            <Link href="/dashboard">Overview</Link>
            <Link href="/dashboard/settings">Settings</Link>
          </nav>
        </aside>
        <main className="flex-1 p-8 bg-white">{children}</main>
      </body>
    </html>
  );
}
```

---

### ğŸ“„ `app/(auth)/layout.tsx`

```tsx
export default function AuthLayout({ children }: { children: React.ReactNode }) {
  return (
    <html lang="en">
      <body className="flex items-center justify-center min-h-screen bg-gray-100">
        <div className="bg-white p-8 rounded shadow-md w-full max-w-md">
          {children}
        </div>
      </body>
    </html>
  );
}
```

---

### ğŸ“„ `app/(auth)/login/page.tsx`

```tsx
export default function LoginPage() {
  return (
    <form className="flex flex-col gap-4">
      <h1 className="text-xl font-semibold">ğŸ” Login</h1>
      <input type="email" placeholder="Email" className="border p-2 rounded" />
      <input type="password" placeholder="Password" className="border p-2 rounded" />
      <button className="bg-blue-500 text-white p-2 rounded hover:bg-blue-600">Sign In</button>
    </form>
  );
}
```

---

## ğŸ§  4ï¸âƒ£ CÃ¡ch hoáº¡t Ä‘á»™ng

* Má»—i nhÃ³m route `(main)`, `(dashboard)`, `(auth)` cÃ³ **layout.tsx riÃªng**, **Ä‘á»™c láº­p hoÃ n toÃ n**
* Next.js **khÃ´ng gá»™p layout giá»¯a cÃ¡c nhÃ³m nÃ y**
* Khi chuyá»ƒn tá»« `/dashboard` sang `/login`, layout **bá»‹ thay Ä‘á»•i hoÃ n toÃ n** (reset DOM, khÃ´ng reuse layout)

---

## âš¡ 5ï¸âƒ£ Khi nÃ o nÃªn dÃ¹ng Multiple Root Layouts

âœ… Khi cÃ¡c khu vá»±c **khÃ´ng cÃ³ cáº¥u trÃºc giao diá»‡n chung**
âœ… Khi cáº§n **reset tráº¡ng thÃ¡i UI hoáº·c Context riÃªng biá»‡t**
âœ… Khi muá»‘n **tÃ¡ch biá»‡t rÃµ rÃ ng public / private / auth zone**

---

## ğŸ’¬ 6ï¸âƒ£ BÃ i táº­p

Táº¡o cáº¥u trÃºc:

```
app/
â”œâ”€â”€ (public)/
â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”œâ”€â”€ page.tsx
â”‚   â””â”€â”€ about/page.tsx
â”œâ”€â”€ (auth)/
â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”œâ”€â”€ login/page.tsx
â”‚   â””â”€â”€ register/page.tsx
```

â†’ Khi truy cáº­p `/login`, layout auth hiá»ƒn thá»‹ riÃªng biá»‡t (trung tÃ¢m, tráº¯ng sáº¡ch).
â†’ Khi truy cáº­p `/about`, dÃ¹ng layout public (header + nav).

---
[<< BÃ€I 15](./15.md) | [BÃ€I 17 >>](./17.md)