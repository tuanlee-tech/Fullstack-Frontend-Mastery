# Ngày 7

## Hàm (Functions)

**Hàm**: Khối mã tái sử dụng để thực hiện một tác vụ cụ thể, giúp mã sạch, dễ đọc, dễ kiểm tra và tái sử dụng.

### Khai báo hàm (Function Declaration)

```js
function functionName() {
  // mã
}
functionName()
```

### Hàm không tham số và không trả về

```js
function square() {
  let num = 2
  console.log(num * num) // 4
}
square()
```

### Hàm trả về giá trị

```js
function printFullName() {
  let firstName = 'Asabeneh'
  let lastName = 'Yetayeh'
  return `${firstName} ${lastName}`
}
console.log(printFullName()) // Asabeneh Yetayeh
```

### Hàm với một tham số

```js
function square(number) {
  return number * number
}
console.log(square(10)) // 100
```

### Hàm với hai tham số

```js
function sumTwoNumbers(numOne, numTwo) {
  return numOne + numTwo
}
console.log(sumTwoNumbers(10, 20)) // 30
```

### Hàm với nhiều tham số

```js
function sumArrayValues(arr) {
  let sum = 0
  for (let i = 0; i < arr.length; i++) {
    sum += arr[i]
  }
  return sum
}
console.log(sumArrayValues([1, 2, 3, 4, 5])) // 15
```

### Hàm với số tham số không giới hạn

- **Hàm thông thường**: Dùng `arguments`.

```js
function sumAllNums() {
  let sum = 0
  for (let i = 0; i < arguments.length; i++) {
    sum += arguments[i]
  }
  return sum
}
console.log(sumAllNums(1, 2, 3, 4)) // 10
```

- **Hàm mũi tên (Arrow Function)**: Dùng spread operator `...`.

```js
const sumAllNums = (...args) => {
  let sum = 0
  for (const num of args) {
    sum += num
  }
  return sum
}
console.log(sumAllNums(1, 2, 3, 4)) // 10
```

### Hàm vô danh (Anonymous Function)

```js
const anonymousFun = function () {
  console.log('I am an anonymous function')
}
anonymousFun()
```

### Hàm biểu thức (Expression Function)

```js
const square = function (n) {
  return n * n
}
console.log(square(2)) // 4
```

### Hàm tự gọi (Self Invoking Functions)

```js
let squaredNum = (function (n) {
  return n * n
})(10)
console.log(squaredNum) // 100
```

### Hàm mũi tên (Arrow Function)

```js
const square = n => n * n
console.log(square(2)) // 4
```

### Hàm với tham số mặc định

```js
const greetings = (name = 'Peter') => `${name}, welcome to 30 Days Of JavaScript!`
console.log(greetings()) // Peter, welcome to 30 Days Of JavaScript!
console.log(greetings('Asabeneh')) // Asabeneh, welcome to 30 Days Of JavaScript!
```

---

## Bài tập: Ngày 7

### Bài tập: Cấp độ 1

1. **In họ tên**

```js
function fullName() {
  console.log('Asabeneh Yetayeh')
}
fullName()
```

2. **In họ tên với tham số**

```js
function fullName(firstName, lastName) {
  return `${firstName} ${lastName}`
}
console.log(fullName('Asabeneh', 'Yetayeh'))
```

3. **Tổng hai số**

```js
function addNumbers(num1, num2) {
  return num1 + num2
}
console.log(addNumbers(2, 3)) // 5
```

4. **Diện tích hình chữ nhật**

```js
function areaOfRectangle(length, width) {
  return length * width
}
console.log(areaOfRectangle(5, 3)) // 15
```

5. **Chu vi hình chữ nhật**

```js
function perimeterOfRectangle(length, width) {
  return 2 * (length + width)
}
console.log(perimeterOfRectangle(5, 3)) // 16
```

6. **Thể tích lăng trụ chữ nhật**

```js
function volumeOfRectPrism(length, width, height) {
  return length * width * height
}
console.log(volumeOfRectPrism(2, 3, 4)) // 24
```

7. **Diện tích hình tròn**

```js
function areaOfCircle(r) {
  return Math.PI * r * r
}
console.log(areaOfCircle(10)) // 314.159...
```

8. **Chu vi hình tròn**

```js
function circumOfCircle(r) {
  return 2 * Math.PI * r
}
console.log(circumOfCircle(10)) // 62.831...
```

9. **Mật độ**

```js
function density(mass, volume) {
  return mass / volume
}
console.log(density(100, 10)) // 10
```

10. **Tốc độ**

```js
function speed(distance, time) {
  return distance / time
}
console.log(speed(100, 2)) // 50
```

11. **Trọng lượng**

```js
function weight(mass, gravity = 9.81) {
  return mass * gravity
}
console.log(weight(100)) // 981
```

12. **Chuyển độ C sang độ F**

```js
function convertCelsiusToFahrenheit(oC) {
  return (oC * 9) / 5 + 32
}
console.log(convertCelsiusToFahrenheit(0)) // 32
```

13. **Tính BMI và phân loại**

```js
function calculateBMI(weight, height) {
  let bmi = weight / (height * height)
  if (bmi < 18.5) return `BMI: ${bmi}, Underweight`
  if (bmi <= 24.9) return `BMI: ${bmi}, Normal weight`
  if (bmi <= 29.9) return `BMI: ${bmi}, Overweight`
  return `BMI: ${bmi}, Obese`
}
console.log(calculateBMI(70, 1.75)) // BMI: 22.857..., Normal weight
```

14. **Kiểm tra mùa**

```js
function checkSeason(month) {
  month = month.toLowerCase()
  if (['september', 'october', 'november'].includes(month)) return 'Autumn'
  if (['december', 'january', 'february'].includes(month)) return 'Winter'
  if (['march', 'april', 'may'].includes(month)) return 'Spring'
  if (['june', 'july', 'august'].includes(month)) return 'Summer'
  return 'Invalid month'
}
console.log(checkSeason('January')) // Winter
```

15. **Tìm số lớn nhất**

```js
function findMax(a, b, c) {
  if (a >= b && a >= c) return a
  if (b >= a && b >= c) return b
  return c
}
console.log(findMax(0, 10, 5)) // 10
console.log(findMax(0, -10, -2)) // 0
```

### Bài tập: Cấp độ 2

1. **Giải phương trình tuyến tính ax + by + c = 0**

```js
function solveLinEquation(a, b, c) {
  return `y = ${-a / b}x + ${-c / b}`
}
console.log(solveLinEquation(2, 3, 6)) // y = -0.666...x + -2
```

2. **Giải phương trình bậc hai ax² + bx + c = 0**

```js
function solveQuadratic(a = 0, b = 0, c = 0) {
  if (a === 0 && b === 0 && c === 0) return [0]
  if (a === 0) return [-c / b]
  let delta = b * b - 4 * a * c
  if (delta < 0) return []
  if (delta === 0) return [-b / (2 * a)]
  return [(-b + Math.sqrt(delta)) / (2 * a), (-b - Math.sqrt(delta)) / (2 * a)]
}
console.log(solveQuadratic()) // [0]
console.log(solveQuadratic(1, 4, 4)) // [-2]
console.log(solveQuadratic(1, -1, -2)) // [2, -1]
```

3. **In mảng**

```js
function printArray(arr) {
  for (const item of arr) console.log(item)
}
printArray([1, 2, 3])
```

4. **Hiển thị ngày giờ**

```js
function showDateTime() {
  const now = new Date()
  const date = String(now.getDate()).padStart(2, '0')
  const month = String(now.getMonth() + 1).padStart(2, '0')
  const year = now.getFullYear()
  const hours = String(now.getHours()).padStart(2, '0')
  const minutes = String(now.getMinutes()).padStart(2, '0')
  return `${date}/${month}/${year} ${hours}:${minutes}`
}
console.log(showDateTime()) // Ví dụ: 12/09/2025 11:01
```

5. **Hoán đổi giá trị**

```js
function swapValues(x, y) {
  return [y, x]
}
console.log(swapValues(3, 4)) // [4, 3]
```

6. **Đảo ngược mảng không dùng reverse**

```js
function reverseArray(arr) {
  const reversed = []
  for (let i = arr.length - 1; i >= 0; i--) {
    reversed.push(arr[i])
  }
  return reversed
}
console.log(reverseArray([1, 2, 3, 4, 5])) // [5, 4, 3, 2, 1]
```

7. **Viết hoa mảng**

```js
function capitalizeArray(arr) {
  const result = []
  for (const item of arr) {
    result.push(item.toUpperCase())
  }
  return result
}
console.log(capitalizeArray(['a', 'b', 'c'])) // ['A', 'B', 'C']
```

8. **Thêm phần tử vào mảng**

```js
function addItem(arr, item) {
  return [...arr, item]
}
console.log(addItem([1, 2, 3], 4)) // [1, 2, 3, 4]
```

9. **Xóa phần tử khỏi mảng**

```js
function removeItem(arr, index) {
  return [...arr.slice(0, index), ...arr.slice(index + 1)]
}
console.log(removeItem([1, 2, 3, 4], 2)) // [1, 2, 4]
```

10. **Tổng các số trong khoảng**

```js
function sumOfNumbers(n) {
  let sum = 0
  for (let i = 1; i <= n; i++) sum += i
  return sum
}
console.log(sumOfNumbers(5)) // 15
```

11. **Tổng số lẻ**

```js
function sumOfOdds(n) {
  let sum = 0
  for (let i = 1; i <= n; i += 2) sum += i
  return sum
}
console.log(sumOfOdds(5)) // 1 + 3 + 5 = 9
```

12. **Tổng số chẵn**

```js
function sumOfEven(n) {
  let sum = 0
  for (let i = 0; i <= n; i += 2) sum += i
  return sum
}
console.log(sumOfEven(5)) // 0 + 2 + 4 = 6
```

13. **Đếm số chẵn và lẻ**

```js
function evensAndOdds(n) {
  let evens = 0, odds = 0
  for (let i = 0; i <= n; i++) {
    i % 2 === 0 ? evens++ : odds++
  }
  return `The number of odds are ${odds}.\nThe number of evens are ${evens}.`
}
console.log(evensAndOdds(100))
```

14. **Tổng các tham số**

```js
function sum(...args) {
  return args.reduce((sum, num) => sum + num, 0)
}
console.log(sum(1, 2, 3, 4)) // 10
```

15. **Tạo địa chỉ IP ngẫu nhiên**

```js
function randomUserIp() {
  return Array(4)
    .fill()
    .map(() => Math.floor(Math.random() * 256))
    .join('.')
}
console.log(randomUserIp()) // Ví dụ: 192.168.1.100
```

16. **Tạo địa chỉ MAC ngẫu nhiên**

```js
function randomMacAddress() {
  return Array(6)
    .fill()
    .map(() => Math.floor(Math.random() * 256).toString(16).padStart(2, '0'))
    .join(':')
}
console.log(randomMacAddress()) // Ví dụ: 1a:2b:3c:4d:5e:6f
```

17. **Tạo số hex ngẫu nhiên**

```js
function randomHexaNumberGenerator() {
  let hex = '#'
  for (let i = 0; i < 6; i++) {
    hex += '0123456789abcdef'[Math.floor(Math.random() * 16)]
  }
  return hex
}
console.log(randomHexaNumberGenerator()) // Ví dụ: #ee33df
```

18. **Tạo ID 7 ký tự**

```js
function userIdGenerator() {
  const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'
  let id = ''
  for (let i = 0; i < 7; i++) {
    id += chars[Math.floor(Math.random() * chars.length)]
  }
  return id
}
console.log(userIdGenerator()) // Ví dụ: 41XTDbE
```

### Bài tập: Cấp độ 3

1. **Tạo ID theo số lượng ký tự và số ID**

```js
function userIdGeneratedByUser() {
  const numChars = parseInt(prompt('Enter number of characters:'))
  const numIds = parseInt(prompt('Enter number of IDs:'))
  const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'
  const result = []
  for (let i = 0; i < numIds; i++) {
    let id = ''
    for (let j = 0; j < numChars; j++) {
      id += chars[Math.floor(Math.random() * chars.length)]
    }
    result.push(id)
  }
  return result.join('\n')
}
console.log(userIdGeneratedByUser())
```

2. **Tạo màu RGB ngẫu nhiên**

```js
function rgbColorGenerator() {
  const r = Math.floor(Math.random() * 256)
  const g = Math.floor(Math.random() * 256)
  const b = Math.floor(Math.random() * 256)
  return `rgb(${r},${g},${b})`
}
console.log(rgbColorGenerator()) // Ví dụ: rgb(125,244,255)
```

3. **Tạo mảng màu hex**

```js
function arrayOfHexaColors(num) {
  const result = []
  for (let i = 0; i < num; i++) {
    result.push(randomHexaNumberGenerator())
  }
  return result
}
console.log(arrayOfHexaColors(3)) // Ví dụ: ['#a3e12f', '#03ed55', '#eb3d2b']
```

4. **Tạo mảng màu RGB**

```js
function arrayOfRgbColors(num) {
  const result = []
  for (let i = 0; i < num; i++) {
    result.push(rgbColorGenerator())
  }
  return result
}
console.log(arrayOfRgbColors(3)) // Ví dụ: ['rgb(5,55,175)', 'rgb(50,105,100)', 'rgb(15,26,80)']
```

5. **Chuyển hex sang RGB**

```js
function convertHexaToRgb(hex) {
  hex = hex.replace('#', '')
  const r = parseInt(hex.slice(0, 2), 16)
  const g = parseInt(hex.slice(2, 4), 16)
  const b = parseInt(hex.slice(4, 6), 16)
  return `rgb(${r},${g},${b})`
}
console.log(convertHexaToRgb('#ff0000')) // rgb(255,0,0)
```

6. **Chuyển RGB sang hex**

```js
function convertRgbToHexa(rgb) {
  const [r, g, b] = rgb.match(/\d+/g).map(Number)
  return `#${r.toString(16).padStart(2, '0')}${g.toString(16).padStart(2, '0')}${b.toString(16).padStart(2, '0')}`
}
console.log(convertRgbToHexa('rgb(255,0,0)')) // #ff0000
```

7. **Tạo màu hex hoặc RGB**

```js
function generateColors(type, num) {
  return type === 'hexa' ? arrayOfHexaColors(num) : arrayOfRgbColors(num)
}
console.log(generateColors('hexa', 3)) // ['#a3e12f', '#03ed55', '#eb3d2b']
console.log(generateColors('rgb', 3)) // ['rgb(5,55,175)', 'rgb(50,105,100)', 'rgb(15,26,80)']
```

8. **Xáo trộn mảng**

```js
function shuffleArray(arr) {
  const result = [...arr]
  for (let i = result.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1))
    ;[result[i], result[j]] = [result[j], result[i]]
  }
  return result
}
console.log(shuffleArray([1, 2, 3, 4, 5]))
```

9. **Tính giai thừa**

```js
function factorial(n) {
  let result = 1
  for (let i = 1; i <= n; i++) result *= i
  return result
}
console.log(factorial(5)) // 120
```

10. **Kiểm tra rỗng**

```js
function isEmpty(value) {
  return value === undefined || value === null || value === ''
}
console.log(isEmpty('')) // true
console.log(isEmpty('test')) // false
```

11. **Tổng các tham số**

```js
function sum(...args) {
  return args.reduce((sum, num) => sum + num, 0)
}
console.log(sum(1, 2, 3, 4)) // 10
```

12. **Tổng các phần tử mảng**

```js
function sumOfArrayItems(arr) {
  if (!arr.every(item => typeof item === 'number')) return 'Not all items are numbers'
  return arr.reduce((sum, num) => sum + num, 0)
}
console.log(sumOfArrayItems([1, 2, 3])) // 6
console.log(sumOfArrayItems([1, '2', 3])) // Not all items are numbers
```

13. **Tính trung bình mảng**

```js
function average(arr) {
  if (!arr.every(item => typeof item === 'number')) return 'Not all items are numbers'
  return arr.reduce((sum, num) => sum + num, 0) / arr.length
}
console.log(average([1, 2, 3])) // 2
```

14. **Sửa phần tử thứ năm**

```js
function modifyArray(arr) {
  if (arr.length < 5) return 'item not found'
  const result = [...arr]
  result[4] = result[4].toUpperCase()
  return result
}
console.log(modifyArray(['Avocado', 'Tomato', 'Potato', 'Mango', 'Lemon', 'Carrot']))
// ['Avocado', 'Tomato', 'Potato', 'Mango', 'LEMON', 'Carrot']
```

15. **Kiểm tra số nguyên tố**

```js
function isPrime(num) {
  if (num < 2) return false
  for (let i = 2; i <= Math.sqrt(num); i++) {
    if (num % i === 0) return false
  }
  return true
}
console.log(isPrime(7)) // true
```

16. **Kiểm tra tất cả phần tử là duy nhất**

```js
function areItemsUnique(arr) {
  return new Set(arr).size === arr.length
}
console.log(areItemsUnique([1, 2, 3])) // true
console.log(areItemsUnique([1, 1, 2])) // false
```

17. **Kiểm tra cùng kiểu dữ liệu**

```js
function areSameType(arr) {
  return arr.every(item => typeof item === typeof arr[0])
}
console.log(areSameType([1, 2, 3])) // true
console.log(areSameType([1, '2', 3])) // false
```

18. **Kiểm tra tên biến hợp lệ**

```js
function isValidVariable(name) {
  return /^[a-zA-Z_$][a-zA-Z0-9_$]*$/.test(name)
}
console.log(isValidVariable('myVar')) // true
console.log(isValidVariable('my-var')) // false
```

19. **Tạo mảng 7 số ngẫu nhiên duy nhất**

```js
function sevenRandomNumbers() {
  const result = new Set()
  while (result.size < 7) {
    result.add(Math.floor(Math.random() * 10))
  }
  return [...result]
}
console.log(sevenRandomNumbers()) // Ví dụ: [1, 4, 5, 7, 9, 8, 0]
```

20. **Đảo ngược mảng countries**

```js
function reverseCountries(countries) {
  const result = []
  for (let i = countries.length - 1; i >= 0; i--) {
    result.push(countries[i])
  }
  return result
}
console.log(reverseCountries(['Finland', 'Sweden', 'Norway']))
// ['Norway', 'Sweden', 'Finland']
```

---
[<< Ngày 6](./6.Loops.md) | [Ngày 8 >>](./8.Objects.md)