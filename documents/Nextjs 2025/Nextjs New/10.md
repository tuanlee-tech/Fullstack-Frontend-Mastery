## ğŸ§­ Not Found Page trong Next.js

### ğŸ¯ Má»¥c tiÃªu

* Hiá»ƒu cÃ¡ch hoáº¡t Ä‘á»™ng cá»§a `not-found.tsx`
* PhÃ¢n biá»‡t **not-found toÃ n cá»¥c (global)** vÃ  **not-found cá»¥c bá»™ (nested)**
* Biáº¿t cÃ¡ch sá»­ dá»¥ng hÃ m `notFound()` Ä‘á»ƒ trigger 404 tÃ¹y Ã½ trong server component.

---

## ğŸ§± 1ï¸âƒ£ KhÃ¡i niá»‡m cÆ¡ báº£n

Trong App Router, báº¡n chá»‰ cáº§n táº¡o file Ä‘áº·c biá»‡t cÃ³ tÃªn:

```
app/not-found.tsx
```

hoáº·c trong báº¥t ká»³ thÆ° má»¥c route nÃ o, vÃ­ dá»¥:

```
app/dashboard/not-found.tsx
```

Next.js sáº½ tá»± Ä‘á»™ng render trang nÃ y khi:

* NgÆ°á»i dÃ¹ng truy cáº­p route khÃ´ng tá»“n táº¡i.
* Hoáº·c báº¡n **chá»§ Ä‘á»™ng gá»i** `notFound()` trong code (vÃ­ dá»¥ khi khÃ´ng tÃ¬m tháº¥y dá»¯ liá»‡u).

---

## ğŸ“„ 2ï¸âƒ£ Global Not Found Page

### ğŸ”¹ `app/not-found.tsx`

```tsx
// app/not-found.tsx
export default function NotFound() {
  return (
    <div
      style={{
        padding: "2rem",
        textAlign: "center",
        color: "#555",
      }}
    >
      <h1>ğŸš« 404 â€” Page Not Found</h1>
      <p>The page you are looking for doesnâ€™t exist or has been moved.</p>
      <a
        href="/"
        style={{
          marginTop: "1rem",
          display: "inline-block",
          textDecoration: "underline",
        }}
      >
        â† Go back to Home
      </a>
    </div>
  );
}
```

â¡ Khi ngÆ°á»i dÃ¹ng vÃ o `/abcxyz` (khÃ´ng cÃ³ route), Next.js sáº½ tá»± Ä‘á»™ng hiá»ƒn thá»‹ file nÃ y.

---

## ğŸ“‚ 3ï¸âƒ£ Nested Not Found Page

Báº¡n cÃ³ thá»ƒ táº¡o file `not-found.tsx` trong má»™t route cá»¥ thá»ƒ, vÃ­ dá»¥:

```
app/dashboard/
â”œâ”€â”€ layout.tsx
â”œâ”€â”€ page.tsx
â””â”€â”€ not-found.tsx
```

### ğŸ”¹ `app/dashboard/not-found.tsx`

```tsx
export default function DashboardNotFound() {
  return (
    <div>
      <h2>âŒ Dashboard Section Not Found</h2>
      <p>The requested dashboard page does not exist.</p>
    </div>
  );
}
```

â¡ LÃºc nÃ y, `/dashboard/invalid-page` sáº½ hiá»ƒn thá»‹ trang nÃ y **thay vÃ¬ global 404.**

---

## âš™ï¸ 4ï¸âƒ£ Trigger 404 thá»§ cÃ´ng báº±ng `notFound()`

Báº¡n cÃ³ thá»ƒ import vÃ  gá»i hÃ m `notFound()` trong **server component** khi khÃ´ng tÃ¬m tháº¥y dá»¯ liá»‡u.

```tsx
// app/products/[id]/page.tsx
import { notFound } from "next/navigation";

export default async function ProductPage({
  params,
}: {
  params: { id: string };
}) {
  const res = await fetch(`https://api.example.com/products/${params.id}`);

  if (!res.ok) {
    notFound(); // ğŸ”¥ Gá»i 404 thá»§ cÃ´ng
  }

  const product = await res.json();

  return (
    <div>
      <h1>{product.name}</h1>
      <p>Price: ${product.price}</p>
    </div>
  );
}
```

---

## ğŸ§© 5ï¸âƒ£ CÆ¡ cháº¿ render 404 trong App Router

Thá»© tá»± Æ°u tiÃªn cá»§a Next.js khi render `not-found`:

1. Náº¿u route cÃ³ file `not-found.tsx` cá»¥c bá»™ â†’ dÃ¹ng file Ä‘Ã³.
2. Náº¿u khÃ´ng, tÃ¬m file `not-found.tsx` á»Ÿ cáº¥p cao hÆ¡n (layout cha).
3. Náº¿u khÃ´ng cÃ³ â†’ fallback sang `app/not-found.tsx` (global).
4. Náº¿u váº«n khÃ´ng cÃ³ â†’ render máº·c Ä‘á»‹nh trang 404 máº·c Ä‘á»‹nh cá»§a Next.js.

---

## ğŸ’¬ 6ï¸âƒ£ BÃ i táº­p nhá»

> Táº¡o cáº¥u trÃºc `/blog/[slug]`:
>
> * Náº¿u slug khÃ´ng tá»“n táº¡i trong danh sÃ¡ch giáº£ láº­p (`["nextjs", "react", "tailwind"]`), gá»i `notFound()`.
> * ThÃªm `not-found.tsx` riÃªng cho `/blog` hiá»ƒn thá»‹ â€œBÃ i viáº¿t khÃ´ng tá»“n táº¡iâ€.

---

[<< BÃ€I 09](./09.md) | [BÃ€I 11 >>](./11.md)