## ğŸ§­ Route Groups trong Next.js

### ğŸ¯ Má»¥c tiÃªu

* Hiá»ƒu **Route Group** lÃ  gÃ¬ vÃ  vÃ¬ sao nÃ³ khÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n URL.
* Biáº¿t cÃ¡ch **chia layout theo nhÃ³m route** (VD: `(marketing)` vs `(dashboard)`).
* Hiá»ƒu cÃ¡ch **gáº¯n layout riÃªng** cho tá»«ng nhÃ³m.

---

## ğŸ§± 1ï¸âƒ£ Váº¥n Ä‘á» thá»±c táº¿

Giáº£ sá»­ báº¡n cÃ³ cáº¥u trÃºc:

```
app/
 â”œâ”€â”€ dashboard/
 â”‚   â””â”€â”€ page.tsx
 â”œâ”€â”€ settings/
 â”‚   â””â”€â”€ page.tsx
 â”œâ”€â”€ login/
 â”‚   â””â”€â”€ page.tsx
```

BÃ¢y giá», báº¡n muá»‘n:

* `dashboard` vÃ  `settings` **chia sáº» cÃ¹ng má»™t layout (dashboard layout)**
* `login` thÃ¬ dÃ¹ng layout riÃªng (auth layout)

Náº¿u báº¡n chá»‰ dÃ¹ng `layout.tsx` á»Ÿ cáº¥p root â†’ **má»i trang Ä‘á»u dÃ¹ng chung layout**, Ä‘iá»u nÃ y **khÃ´ng mong muá»‘n**.

---

## ğŸ§© 2ï¸âƒ£ CÃ¡ch giáº£i quyáº¿t â€” DÃ¹ng Route Groups

Ta nhÃ³m cÃ¡c route theo **folder cÃ³ dáº¥u ngoáº·c trÃ²n `()`**, vÃ­ dá»¥:

```
app/
 â”œâ”€â”€ (dashboard)/
 â”‚   â”œâ”€â”€ dashboard/
 â”‚   â”‚   â””â”€â”€ page.tsx
 â”‚   â”œâ”€â”€ settings/
 â”‚   â”‚   â””â”€â”€ page.tsx
 â”‚   â””â”€â”€ layout.tsx        â† layout riÃªng cho nhÃ³m dashboard
 â”œâ”€â”€ (auth)/
 â”‚   â”œâ”€â”€ login/
 â”‚   â”‚   â””â”€â”€ page.tsx
 â”‚   â””â”€â”€ layout.tsx        â† layout riÃªng cho nhÃ³m auth
 â””â”€â”€ layout.tsx            â† layout chung cho toÃ n site
```

âœ… CÃ¡c thÆ° má»¥c `(dashboard)` vÃ  `(auth)` **khÃ´ng xuáº¥t hiá»‡n trong URL**.
VÃ­ dá»¥:

* `/dashboard` váº«n lÃ  `/dashboard`
* `/login` váº«n lÃ  `/login`

---

## âš™ï¸ 3ï¸âƒ£ CÆ¡ cháº¿ hoáº¡t Ä‘á»™ng

| ThÆ° má»¥c                  | Vai trÃ²                                        |
| ------------------------ | ---------------------------------------------- |
| `(dashboard)/layout.tsx` | Ãp dá»¥ng cho má»i route trong nhÃ³m `(dashboard)` |
| `(auth)/layout.tsx`      | Ãp dá»¥ng cho nhÃ³m `(auth)`                      |
| `app/layout.tsx`         | Layout toÃ n cá»¥c                                |
| `(folder)`               | KhÃ´ng hiá»ƒn thá»‹ trong URL                       |

> ğŸ’¡ Next.js tá»± Ä‘á»™ng **gáº¯n layout theo nhÃ³m route** tá»« trong ra ngoÃ i (nested).

---

## ğŸ“„ 4ï¸âƒ£ VÃ­ dá»¥ thá»±c táº¿

**ğŸ“ Cáº¥u trÃºc:**

```
app/
 â”œâ”€â”€ (dashboard)/
 â”‚   â”œâ”€â”€ layout.tsx
 â”‚   â”œâ”€â”€ dashboard/
 â”‚   â”‚   â””â”€â”€ page.tsx
 â”‚   â””â”€â”€ settings/
 â”‚       â””â”€â”€ page.tsx
 â”œâ”€â”€ (auth)/
 â”‚   â”œâ”€â”€ layout.tsx
 â”‚   â””â”€â”€ login/
 â”‚       â””â”€â”€ page.tsx
 â””â”€â”€ layout.tsx
```

**ğŸ§± `app/(dashboard)/layout.tsx`**

```tsx
export default function DashboardGroupLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <div style={{ display: "flex" }}>
      <aside
        style={{
          width: "200px",
          background: "#f0f0f0",
          padding: "1rem",
          minHeight: "100vh",
        }}
      >
        <h4>ğŸ“Š Dashboard Menu</h4>
        <ul>
          <li><a href="/dashboard">Overview</a></li>
          <li><a href="/settings">Settings</a></li>
        </ul>
      </aside>
      <main style={{ flex: 1, padding: "2rem" }}>{children}</main>
    </div>
  );
}
```

**ğŸ§± `app/(dashboard)/dashboard/page.tsx`**

```tsx
export default function DashboardPage() {
  return <h1>ğŸ“ˆ Dashboard Overview</h1>;
}
```

**ğŸ§± `app/(dashboard)/settings/page.tsx`**

```tsx
export default function SettingsPage() {
  return <h1>âš™ï¸ Settings Page</h1>;
}
```

**ğŸ§± `app/(auth)/layout.tsx`**

```tsx
export default function AuthLayout({ children }: { children: React.ReactNode }) {
  return (
    <div
      style={{
        display: "flex",
        justifyContent: "center",
        alignItems: "center",
        height: "100vh",
        background: "#f9fafb",
      }}
    >
      <div
        style={{
          background: "#fff",
          padding: "2rem",
          border: "1px solid #ddd",
          borderRadius: "8px",
        }}
      >
        {children}
      </div>
    </div>
  );
}
```

**ğŸ§± `app/(auth)/login/page.tsx`**

```tsx
export default function LoginPage() {
  return (
    <form>
      <h2>ğŸ” Login</h2>
      <input type="text" placeholder="Username" />
      <br />
      <input type="password" placeholder="Password" />
      <br />
      <button>Login</button>
    </form>
  );
}
```

---

## ğŸ§  5ï¸âƒ£ Lá»£i Ã­ch cá»§a Route Groups

âœ… Dá»… tá»• chá»©c code theo tÃ­nh nÄƒng (feature-based).
âœ… Layout rÃµ rÃ ng cho tá»«ng nhÃ³m (Auth, Dashboard, Marketingâ€¦).
âœ… URL váº«n sáº¡ch, khÃ´ng bá»‹ thÃªm `/dashboard/` dÆ° thá»«a.
âœ… GiÃºp chia tÃ¡ch logic, trÃ¡nh render thá»«a layout.

---

## ğŸ’¬ 6ï¸âƒ£ BÃ i táº­p nhá»

HÃ£y:

1. Táº¡o hai nhÃ³m route: `(dashboard)` vÃ  `(auth)`.
2. Má»—i nhÃ³m cÃ³ layout riÃªng.
3. `/dashboard` vÃ  `/settings` dÃ¹ng layout Dashboard.
4. `/login` dÃ¹ng layout Auth.
5. Kiá»ƒm tra URL â†’ Ä‘áº£m báº£o **khÃ´ng chá»©a `(dashboard)` hoáº·c `(auth)`**.
HoÃ n háº£o ğŸ‘Œ BÃ i táº­p nÃ y giÃºp báº¡n lÃ m quen vá»›i **â€œRoute Groupsâ€** trong **Next.js App Router**, dÃ¹ng Ä‘á»ƒ tá»• chá»©c cáº¥u trÃºc thÆ° má»¥c logic mÃ  **khÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n URL**.

---

## ğŸ“‚ **Cáº¥u trÃºc thÆ° má»¥c cáº§n táº¡o**

```
app/
 â”œâ”€ (dashboard)/
 â”‚   â”œâ”€ layout.tsx         â† Layout dÃ nh cho Dashboard
 â”‚   â”œâ”€ dashboard/
 â”‚   â”‚   â””â”€ page.tsx
 â”‚   â””â”€ settings/
 â”‚       â””â”€ page.tsx
 â”‚
 â””â”€ (auth)/
     â”œâ”€ layout.tsx         â† Layout dÃ nh cho Auth
     â””â”€ login/
         â””â”€ page.tsx
```

> ğŸ§  **LÆ°u Ã½:** TÃªn thÆ° má»¥c cÃ³ dáº¥u ngoáº·c `()` sáº½ **bá»‹ loáº¡i khá»i URL**, chá»‰ Ä‘á»ƒ tá»• chá»©c logic.

---

## ğŸ§± **BÆ°á»›c 1. Táº¡o layout cho nhÃ³m Dashboard**

ğŸ“„ `app/(dashboard)/layout.tsx`

```tsx
import Link from "next/link";

export default function DashboardLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <div className="min-h-screen flex">
      <aside className="w-64 bg-gray-800 text-white p-4 space-y-4">
        <h2 className="text-xl font-bold">Dashboard Layout</h2>
        <nav className="flex flex-col gap-2">
          <Link href="/dashboard">ğŸ  Dashboard</Link>
          <Link href="/settings">âš™ï¸ Settings</Link>
        </nav>
      </aside>

      <main className="flex-1 p-6 bg-gray-100">{children}</main>
    </div>
  );
}
```

---

## ğŸ§± **BÆ°á»›c 2. Táº¡o layout cho nhÃ³m Auth**

ğŸ“„ `app/(auth)/layout.tsx`

```tsx
export default function AuthLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <div className="min-h-screen flex items-center justify-center bg-gray-100">
      <div className="bg-white shadow-lg p-8 rounded-lg w-[400px] text-center">
        <h1 className="text-2xl font-bold mb-4 text-blue-600">Auth Layout</h1>
        {children}
      </div>
    </div>
  );
}
```

---

## ğŸ§± **BÆ°á»›c 3. Táº¡o cÃ¡c trang con**

### ğŸ“„ `app/(dashboard)/dashboard/page.tsx`

```tsx
export default function DashboardPage() {
  return <h1 className="text-2xl font-bold">ğŸ“Š Dashboard Page</h1>;
}
```

### ğŸ“„ `app/(dashboard)/settings/page.tsx`

```tsx
export default function SettingsPage() {
  return <h1 className="text-2xl font-bold">âš™ï¸ Settings Page</h1>;
}
```

### ğŸ“„ `app/(auth)/login/page.tsx`

```tsx
export default function LoginPage() {
  return (
    <>
      <h1 className="text-xl font-bold mb-4">ğŸ” Login Page</h1>
      <form className="flex flex-col gap-3">
        <input
          className="border px-3 py-2 rounded"
          placeholder="Email"
          type="email"
        />
        <input
          className="border px-3 py-2 rounded"
          placeholder="Password"
          type="password"
        />
        <button className="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">
          Login
        </button>
      </form>
    </>
  );
}
```

---

## âœ… **Káº¿t quáº£ khi cháº¡y**

| URL truy cáº­p | Layout Ä‘Æ°á»£c dÃ¹ng                       | Ghi chÃº              |
| ------------ | -------------------------------------- | -------------------- |
| `/dashboard` | DashboardLayout                        | âœ… CÃ³ sidebar         |
| `/settings`  | DashboardLayout                        | âœ… DÃ¹ng chung sidebar |
| `/login`     | AuthLayout                             | âœ… Form login riÃªng   |
| URL hiá»ƒn thá»‹ | KhÃ´ng chá»©a `(dashboard)` hoáº·c `(auth)` | âœ… Chuáº©n yÃªu cáº§u      |

---

## ğŸ’¡ **Hiá»ƒu sÃ¢u**

* `(dashboard)` vÃ  `(auth)` lÃ  **Route Groups**, khÃ´ng áº£nh hÆ°á»Ÿng tá»›i URL.
* Má»¥c Ä‘Ã­ch: chia module (nhÆ° admin, auth, marketing) mÃ  khÃ´ng lÃ m rá»‘i cáº¥u trÃºc Ä‘Æ°á»ng dáº«n.
* Layout trong nhÃ³m **chá»‰ Ã¡p dá»¥ng** cho cÃ¡c route con náº±m trong cÃ¹ng nhÃ³m.

---

## ğŸ§© **Má»Ÿ rá»™ng thÃªm**

Náº¿u muá»‘n `/dashboard/settings` **náº±m dÆ°á»›i cÃ¹ng 1 namespace**, báº¡n cÃ³ thá»ƒ Ä‘áº·t trong thÆ° má»¥c `dashboard/settings/page.tsx`, váº«n trong nhÃ³m `(dashboard)`:

```
app/
 â”œâ”€ (dashboard)/
 â”‚   â”œâ”€ layout.tsx
 â”‚   â””â”€ dashboard/
 â”‚       â”œâ”€ page.tsx
 â”‚       â””â”€ settings/
 â”‚           â””â”€ page.tsx
```



---
[<< BÃ€I 12](./12.md) | [BÃ€I 14 >>](./14.md)