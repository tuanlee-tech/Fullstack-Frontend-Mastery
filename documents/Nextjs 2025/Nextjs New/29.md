

## ğŸ§­ Intercepting Routes trong Next.js

### ğŸ¯ Má»¥c tiÃªu

* Hiá»ƒu cÃ¡ch Next.js cho phÃ©p **route nÃ y chÃ¨n vÃ o route khÃ¡c mÃ  khÃ´ng thay Ä‘á»•i URL gá»‘c**.
* Táº¡o cÃ¡c **modal, sidebar hoáº·c drawer** mÃ  váº«n giá»¯ route parent.
* GiÃºp **tÃ¡i sá»­ dá»¥ng layout** mÃ  khÃ´ng cáº§n duplicate pages.

---

## ğŸ§± 1ï¸âƒ£ CÆ¡ cháº¿ Intercepting Routes

* Intercepting route thÆ°á»ng dÃ¹ng **`(group)`** vÃ  **`@modal` hoáº·c `@overlay`** Ä‘á»ƒ route phá»¥ hiá»ƒn thá»‹ trong route cha.
* CÃº phÃ¡p:

```txt
app/
â”œâ”€â”€ dashboard/
â”‚   â”œâ”€â”€ page.tsx
â”‚   â”œâ”€â”€ (modals)/
â”‚   â”‚   â””â”€â”€ new-user/
â”‚   â”‚       â””â”€â”€ page.tsx
```

* Khi báº¡n truy cáº­p `/dashboard/(modals)/new-user`, Next.js sáº½ **render modal trÃªn layout dashboard** mÃ  URL váº«n gá»n gÃ ng.

---

## ğŸ§© 2ï¸âƒ£ VÃ­ dá»¥ táº¡o Modal

```tsx
// app/dashboard/(modals)/new-user/page.tsx
"use client";
import { useRouter } from "next/navigation";

export default function NewUserModal() {
  const router = useRouter();

  return (
    <div
      style={{
        position: "fixed",
        top: 0,
        left: 0,
        right: 0,
        bottom: 0,
        background: "rgba(0,0,0,0.5)",
        display: "flex",
        justifyContent: "center",
        alignItems: "center",
      }}
    >
      <div style={{ background: "#fff", padding: "2rem", borderRadius: 8 }}>
        <h2>ThÃªm User Má»›i</h2>
        <button onClick={() => router.back()}>ÄÃ³ng</button>
      </div>
    </div>
  );
}
```

* Layout cha (`dashboard/layout.tsx`) váº«n giá»¯ nguyÃªn, modal chá»‰ overlay lÃªn.

---

## ğŸ’¡ 3ï¸âƒ£ Lá»£i Ã­ch

* **KhÃ´ng reload layout** khi má»Ÿ modal hoáº·c sidebar.
* URL rÃµ rÃ ng, dá»… quáº£n lÃ½ state cá»§a modal.
* Káº¿t há»£p vá»›i **Parallel Routes** Ä‘á»ƒ render nhiá»u layer UI Ä‘á»“ng thá»i.


---
[<< BÃ€I 28](./28.md) | [BÃ€I 30 >>](./30.md)