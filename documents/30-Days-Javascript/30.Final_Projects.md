## B√†i t·∫≠p: Ng√†y 17

### B√†i t·∫≠p: C·∫•p ƒë·ªô 1

* √î **search qu·ªëc gia** (t√¨m theo name ho·∫∑c capital).
* 3 n√∫t **sort theo name, capital, population** (toggle tƒÉng/gi·∫£m).
* B·∫£ng hi·ªÉn th·ªã qu·ªëc gia (c·ªù, t√™n, capital, population).
* Bi·ªÉu ƒë·ªì (chart) hi·ªÉn th·ªã **World population vs. c√°c qu·ªëc gia ƒë∆∞·ª£c filter**.

---

#### ‚úÖ Full Code: `index.html`

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Day 30 - Final Project: Countries Data</title>
  <style>
    body {
      font-family: Arial, Helvetica, sans-serif;
      margin: 0;
      padding: 20px;
      background: #f0f0f0;
      color: #333;
    }

    h1 {
      text-align: center;
      margin-bottom: 10px;
    }

    .controls {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 10px;
      margin-bottom: 20px;
    }

    .controls input {
      width: 50%;
      padding: 10px;
      font-size: 1rem;
      border: 1px solid #ccc;
      border-radius: 6px;
    }

    .buttons {
      display: flex;
      gap: 10px;
    }

    .buttons button {
      padding: 8px 16px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      background: #333;
      color: white;
      transition: background 0.3s;
    }

    .buttons button:hover {
      background: #555;
    }

    .countries {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 15px;
      margin-top: 20px;
    }

    .country {
      background: white;
      border-radius: 8px;
      padding: 10px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 5px;
    }

    .country img {
      width: 100%;
      height: 120px;
      object-fit: cover;
      border-radius: 4px;
    }

    .chart {
      margin-top: 40px;
    }

    .bar {
      display: flex;
      align-items: center;
      gap: 10px;
      margin: 6px 0;
    }

    .bar span {
      min-width: 100px;
      font-weight: bold;
    }

    .progress {
      flex: 1;
      height: 20px;
      background: #ddd;
      border-radius: 10px;
      overflow: hidden;
      position: relative;
    }

    .progress div {
      height: 100%;
      background: #4caf50;
    }
  </style>
</head>
<body>
  <h1>üåç World Countries Data</h1>
  <div class="controls">
    <input type="text" id="search" placeholder="Search by country or capital..." />
    <div class="buttons">
      <button id="sortName">Sort by Name ‚¨ç</button>
      <button id="sortCapital">Sort by Capital ‚¨ç</button>
      <button id="sortPopulation">Sort by Population ‚¨ç</button>
    </div>
  </div>

  <div class="countries" id="countries"></div>

  <div class="chart" id="chart"></div>

  <script>
    // Sample data (c√≥ th·ªÉ thay b·∫±ng fetch API real)
    const countries = [
      { name: 'China', capital: 'Beijing', population: 1402112000, flag: 'https://flagcdn.com/w320/cn.png' },
      { name: 'India', capital: 'New Delhi', population: 1380004000, flag: 'https://flagcdn.com/w320/in.png' },
      { name: 'United States', capital: 'Washington, D.C.', population: 331893745, flag: 'https://flagcdn.com/w320/us.png' },
      { name: 'Indonesia', capital: 'Jakarta', population: 273523621, flag: 'https://flagcdn.com/w320/id.png' },
      { name: 'Pakistan', capital: 'Islamabad', population: 229488994, flag: 'https://flagcdn.com/w320/pk.png' },
      { name: 'Brazil', capital: 'Bras√≠lia', population: 212559409, flag: 'https://flagcdn.com/w320/br.png' },
      { name: 'Nigeria', capital: 'Abuja', population: 206139587, flag: 'https://flagcdn.com/w320/ng.png' },
      { name: 'Bangladesh', capital: 'Dhaka', population: 164689383, flag: 'https://flagcdn.com/w320/bd.png' },
      { name: 'Russia', capital: 'Moscow', population: 145934460, flag: 'https://flagcdn.com/w320/ru.png' },
      { name: 'Mexico', capital: 'Mexico City', population: 128932753, flag: 'https://flagcdn.com/w320/mx.png' }
    ];

    const worldPopulation = countries.reduce((sum, c) => sum + c.population, 0);

    const countriesContainer = document.getElementById('countries');
    const chartContainer = document.getElementById('chart');
    const searchInput = document.getElementById('search');

    let currentData = [...countries];
    let sortOrder = { name: true, capital: true, population: true };

    // Render country cards
    function renderCountries(data) {
      countriesContainer.innerHTML = '';
      data.forEach(c => {
        const div = document.createElement('div');
        div.className = 'country';
        div.innerHTML = `
          <img src="${c.flag}" alt="${c.name} flag" />
          <h3>${c.name}</h3>
          <p>Capital: ${c.capital}</p>
          <p>Population: ${c.population.toLocaleString()}</p>
        `;
        countriesContainer.appendChild(div);
      });
    }

    // Render chart
    function renderChart(data) {
      chartContainer.innerHTML = '<h2>üìä Population Comparison</h2>';
      const worldDiv = document.createElement('div');
      worldDiv.className = 'bar';
      worldDiv.innerHTML = `
        <span>World</span>
        <div class="progress"><div style="width:100%"></div></div>
        <span>${worldPopulation.toLocaleString()}</span>
      `;
      chartContainer.appendChild(worldDiv);

      data.forEach(c => {
        const percent = (c.population / worldPopulation) * 100;
        const div = document.createElement('div');
        div.className = 'bar';
        div.innerHTML = `
          <span>${c.name}</span>
          <div class="progress"><div style="width:${percent}%"></div></div>
          <span>${c.population.toLocaleString()}</span>
        `;
        chartContainer.appendChild(div);
      });
    }

    // Search
    searchInput.addEventListener('input', e => {
      const keyword = e.target.value.toLowerCase();
      currentData = countries.filter(c =>
        c.name.toLowerCase().includes(keyword) ||
        c.capital.toLowerCase().includes(keyword)
      );
      renderCountries(currentData);
      renderChart(currentData.slice(0, 10));
    });

    // Sort
    document.getElementById('sortName').addEventListener('click', () => {
      currentData.sort((a, b) => sortOrder.name ? a.name.localeCompare(b.name) : b.name.localeCompare(a.name));
      sortOrder.name = !sortOrder.name;
      renderCountries(currentData);
      renderChart(currentData.slice(0, 10));
    });

    document.getElementById('sortCapital').addEventListener('click', () => {
      currentData.sort((a, b) => sortOrder.capital ? a.capital.localeCompare(b.capital) : b.capital.localeCompare(a.capital));
      sortOrder.capital = !sortOrder.capital;
      renderCountries(currentData);
      renderChart(currentData.slice(0, 10));
    });

    document.getElementById('sortPopulation').addEventListener('click', () => {
      currentData.sort((a, b) => sortOrder.population ? a.population - b.population : b.population - a.population);
      sortOrder.population = !sortOrder.population;
      renderCountries(currentData);
      renderChart(currentData.slice(0, 10));
    });

    // Init render
    renderCountries(currentData);
    renderChart(currentData.slice(0, 10));
  </script>
</body>
</html>
```

---

### üéØ T√≠nh nƒÉng:

* T√¨m ki·∫øm theo **t√™n qu·ªëc gia** ho·∫∑c **th·ªß ƒë√¥**.
* Sort tƒÉng/gi·∫£m khi click v√†o n√∫t (toggle ‚¨Ü‚¨á).
* Hi·ªÉn th·ªã **c·ªù, t√™n, capital, population**.
* Chart hi·ªÉn th·ªã **World vs top 10 qu·ªëc gia trong b·∫£ng filter**.

### B√†i t·∫≠p: C·∫•p ƒë·ªô 2

### Form Validation b·∫±ng regex theo y√™u c·∫ßu:
* C√°c field:

  * **First Name, Last Name** (ch·ªâ cho ch·ªØ, vi·∫øt hoa ƒë·∫ßu th√¨ c√†ng ƒë·∫πp).
  * **Email** (regex chu·∫©n email).
  * **Password + Confirm Password** (√≠t nh·∫•t 6 k√Ω t·ª±, ph·∫£i match confirm).
  * **Telephone** (hi·ªÉn th·ªã format realtime: `123-456-7890`).
  * **Your Bio** (t·ªëi thi·ªÉu 10 k√Ω t·ª±).
* **M·∫∑c ƒë·ªãnh text m√†u ƒëen + border ƒëen.**
* N·∫øu **invalid** ‚Üí **m√†u cam + border cam.**
* N·∫øu **valid** ‚Üí **m√†u xanh + border xanh.**
* Sau khi **Submit th√†nh c√¥ng** ‚Üí show ra k·∫øt qu·∫£ d·ªØ li·ªáu ng∆∞·ªùi d√πng.


```html
<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Form Validation with Regex - Demo</title>
  <style>
    :root{
      --black: #000;
      --orange: #f39c12;
      --green: #27ae60;
      --bg: #f7f7f7;
      --card: #fff;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: "Segoe UI", Roboto, Arial, sans-serif;
      background: var(--bg);
      color: var(--black);
      padding: 24px;
    }
    h1{text-align:center;margin-bottom:18px}
    form{
      max-width:700px;
      margin:0 auto;
      background: var(--card);
      padding:20px;
      border-radius:8px;
      box-shadow:0 6px 18px rgba(0,0,0,0.06);
    }

    .row{display:flex;gap:12px;flex-wrap:wrap}
    .col{flex:1 1 200px; min-width:180px}
    .form-group{margin-bottom:14px;width:100%}
    label{display:block;font-weight:600;margin-bottom:6px}
    input[type="text"], input[type="password"], input[type="number"], textarea{
      width:100%;
      padding:10px 12px;
      border:2px solid var(--black);    /* m·∫∑c ƒë·ªãnh ƒëen */
      border-radius:6px;
      font-size:15px;
      color:var(--black);
      transition: border-color .2s, color .2s, box-shadow .15s;
      background:white;
    }
    textarea{min-height:100px;resize:vertical}
    /* tr·∫°ng th√°i */
    .input-error{ border-color: var(--orange) !important; color: var(--orange) !important; box-shadow: 0 0 0 3px rgba(243,156,18,0.08); }
    .input-success{ border-color: var(--green) !important; color: var(--green) !important; box-shadow: 0 0 0 3px rgba(39,174,96,0.07); }

    .msg{ font-size:13px; height:18px; margin-top:6px; display:block; color:transparent }
    .msg.error{ color:var(--orange) }
    .msg.success{ color:var(--green) }

    .hint { font-size:12px; color:#666; margin-bottom:8px }

    button[type="submit"]{
      display:block;
      width:100%;
      padding:12px;
      border-radius:8px;
      border:none;
      background:#333;
      color:white;
      font-weight:700;
      cursor:pointer;
      margin-top:6px;
    }
    #result{
      max-width:700px;
      margin:18px auto 0;
      padding:14px;
      border-radius:8px;
      background:#e9fff0;
      border:2px solid var(--green);
      display:none;
    }

    /* responsive */
    @media (max-width:520px){
      .row{flex-direction:column}
      .col{min-width:unset}
    }
  </style>
</head>
<body>
  <h1>Validate form (regex) ‚Äî Demo</h1>

  <form id="myForm" novalidate>
    <div class="row">
      <div class="col form-group">
        <label for="firstName">First Name</label>
        <input id="firstName" type="text" placeholder="Enter first name" autocomplete="given-name" />
        <small id="firstNameMsg" class="msg" aria-live="polite"></small>
      </div>

      <div class="col form-group">
        <label for="lastName">Last Name</label>
        <input id="lastName" type="text" placeholder="Enter last name" autocomplete="family-name" />
        <small id="lastNameMsg" class="msg" aria-live="polite"></small>
      </div>
    </div>

    <div class="form-group">
      <label for="email">Email</label>
      <input id="email" type="text" placeholder="you@example.com" autocomplete="email" />
      <small id="emailMsg" class="msg" aria-live="polite"></small>
    </div>

    <div class="row">
      <div class="col form-group">
        <label for="password">Password</label>
        <input id="password" type="password" placeholder="At least 6 characters" />
        <small id="passwordMsg" class="msg" aria-live="polite"></small>
      </div>

      <div class="col form-group">
        <label for="confirmPassword">Confirm Password</label>
        <input id="confirmPassword" type="password" placeholder="Repeat password" />
        <small id="confirmPasswordMsg" class="msg" aria-live="polite"></small>
      </div>
    </div>

    <div class="form-group">
      <label for="telephone">Telephone</label>
      <input id="telephone" type="text" placeholder="123-456-7890" maxlength="12" />
      <small id="telephoneMsg" class="msg" aria-live="polite"></small>
      <div class="hint">Format will be applied automatically while typing (xxx-xxx-xxxx)</div>
    </div>

    <div class="form-group">
      <label for="bio">Your Bio</label>
      <textarea id="bio" placeholder="Write at least 10 characters..."></textarea>
      <small id="bioMsg" class="msg" aria-live="polite"></small>
    </div>

    <button type="submit">Submit</button>
  </form>

  <div id="result" role="status" aria-live="polite"></div>

  <script>
    // elements
    const form = document.getElementById('myForm');
    const firstName = document.getElementById('firstName');
    const lastName = document.getElementById('lastName');
    const email = document.getElementById('email');
    const password = document.getElementById('password');
    const confirmPassword = document.getElementById('confirmPassword');
    const telephone = document.getElementById('telephone');
    const bio = document.getElementById('bio');

    const firstNameMsg = document.getElementById('firstNameMsg');
    const lastNameMsg = document.getElementById('lastNameMsg');
    const emailMsg = document.getElementById('emailMsg');
    const passwordMsg = document.getElementById('passwordMsg');
    const confirmPasswordMsg = document.getElementById('confirmPasswordMsg');
    const telephoneMsg = document.getElementById('telephoneMsg');
    const bioMsg = document.getElementById('bioMsg');

    const result = document.getElementById('result');

    // regex rules
    const nameRegex = /^[A-Za-z√Ä-√ñ√ò-√∂√∏-√ø\-'\s]{2,}$/; // allow letters & accents, hyphen, space, min 2
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    const passwordRegex = /^.{6,}$/; // min 6 chars
    const telRegex = /^\d{3}-\d{3}-\d{4}$/;
    const bioRegex = /^.{10,}$/s;

    // helper to set state
    function setError(inputEl, msgEl, message){
      inputEl.classList.remove('input-success');
      inputEl.classList.add('input-error');
      msgEl.classList.remove('success');
      msgEl.classList.add('error');
      msgEl.textContent = message;
    }
    function setSuccess(inputEl, msgEl, message = 'Looks good'){
      inputEl.classList.remove('input-error');
      inputEl.classList.add('input-success');
      msgEl.classList.remove('error');
      msgEl.classList.add('success');
      msgEl.textContent = message;
    }
    function clearState(inputEl, msgEl){
      inputEl.classList.remove('input-error','input-success');
      msgEl.classList.remove('error','success');
      msgEl.textContent = '';
    }

    // validation functions (returns boolean)
    function validateFirstName(){
      const v = firstName.value.trim();
      if (v === '') { clearState(firstName, firstNameMsg); return false; }
      if (!nameRegex.test(v)) {
        setError(firstName, firstNameMsg, 'First name must be at least 2 letters (letters only)');
        return false;
      }
      setSuccess(firstName, firstNameMsg, 'Valid first name');
      return true;
    }
    function validateLastName(){
      const v = lastName.value.trim();
      if (v === '') { clearState(lastName, lastNameMsg); return false; }
      if (!nameRegex.test(v)) {
        setError(lastName, lastNameMsg, 'Last name must be at least 2 letters (letters only)');
        return false;
      }
      setSuccess(lastName, lastNameMsg, 'Valid last name');
      return true;
    }
    function validateEmail(){
      const v = email.value.trim();
      if (v === '') { clearState(email, emailMsg); return false; }
      if (!emailRegex.test(v)) {
        setError(email, emailMsg, 'Please enter a valid email');
        return false;
      }
      setSuccess(email, emailMsg, 'Valid email');
      return true;
    }
    function validatePassword(){
      const v = password.value;
      if (v === '') { clearState(password, passwordMsg); return false; }
      if (!passwordRegex.test(v)) {
        setError(password, passwordMsg, 'Password must be at least 6 characters');
        return false;
      }
      setSuccess(password, passwordMsg, 'Password OK');
      return true;
    }
    function validateConfirmPassword(){
      const v = confirmPassword.value;
      if (v === '') { clearState(confirmPassword, confirmPasswordMsg); return false; }
      if (v !== password.value) {
        setError(confirmPassword, confirmPasswordMsg, "Passwords don't match");
        return false;
      }
      setSuccess(confirmPassword, confirmPasswordMsg, 'Passwords match');
      return true;
    }
    function validateTelephone(){
      const v = telephone.value.trim();
      if (v === '') { clearState(telephone, telephoneMsg); return false; }
      if (!telRegex.test(v)) {
        setError(telephone, telephoneMsg, 'Telephone must be in format 123-456-7890');
        return false;
      }
      setSuccess(telephone, telephoneMsg, 'Valid telephone');
      return true;
    }
    function validateBio(){
      const v = bio.value;
      if (v.trim() === '') { clearState(bio, bioMsg); return false; }
      if (!bioRegex.test(v)) {
        setError(bio, bioMsg, 'Bio must be at least 10 characters');
        return false;
      }
      setSuccess(bio, bioMsg, 'Nice bio');
      return true;
    }

    // telephone formatting live
    telephone.addEventListener('input', (e) => {
      let value = telephone.value.replace(/\D/g, '');
      if (value.length > 10) value = value.slice(0,10);
      if (value.length > 6) {
        value = value.replace(/(\d{3})(\d{3})(\d+)/, '$1-$2-$3');
      } else if (value.length > 3) {
        value = value.replace(/(\d{3})(\d+)/, '$1-$2');
      }
      telephone.value = value;
      validateTelephone();
    });

    // live validation on input / blur
    firstName.addEventListener('input', validateFirstName);
    lastName.addEventListener('input', validateLastName);
    email.addEventListener('input', validateEmail);
    password.addEventListener('input', () => { validatePassword(); validateConfirmPassword(); });
    confirmPassword.addEventListener('input', validateConfirmPassword);
    bio.addEventListener('input', validateBio);

    // form submit
    form.addEventListener('submit', (ev) => {
      ev.preventDefault();
      // validate all
      const a = validateFirstName();
      const b = validateLastName();
      const c = validateEmail();
      const d = validatePassword();
      const e = validateConfirmPassword();
      const f = validateTelephone();
      const g = validateBio();

      if (a && b && c && d && e && f && g) {
        // success
        result.style.display = 'block';
        result.innerHTML = `
          <h2>‚úÖ Submission successful</h2>
          <p><strong>First name:</strong> ${escapeHtml(firstName.value.trim())}</p>
          <p><strong>Last name:</strong> ${escapeHtml(lastName.value.trim())}</p>
          <p><strong>Email:</strong> ${escapeHtml(email.value.trim())}</p>
          <p><strong>Telephone:</strong> ${escapeHtml(telephone.value.trim())}</p>
          <p><strong>Bio:</strong> ${escapeHtml(bio.value.trim())}</p>
        `;
        // reset form values and states after showing
        form.reset();
        [firstName,lastName,email,password,confirmPassword,telephone,bio].forEach(inp => {
          inp.classList.remove('input-error','input-success');
        });
        [firstNameMsg,lastNameMsg,emailMsg,passwordMsg,confirmPasswordMsg,telephoneMsg,bioMsg].forEach(m => {
          m.textContent = '';
          m.classList.remove('error','success');
        });
        // hide result after a while? keep visible
      } else {
        // highlight missing fields: if empty show a short message
        if (!a && firstName.value.trim()==='') setError(firstName, firstNameMsg, 'First name is required');
        if (!b && lastName.value.trim()==='') setError(lastName, lastNameMsg, 'Last name is required');
        if (!c && email.value.trim()==='') setError(email, emailMsg, 'Email is required');
        if (!d && password.value==='') setError(password, passwordMsg, 'Password is required');
        if (!e && confirmPassword.value==='') setError(confirmPassword, confirmPasswordMsg, 'Confirm your password');
        if (!f && telephone.value.trim()==='') setError(telephone, telephoneMsg, 'Telephone is required');
        if (!g && bio.value.trim()==='') setError(bio, bioMsg, 'Bio is required');

        result.style.display = 'none';
        // scroll to first invalid
        const firstInvalid = document.querySelector('.input-error');
        if (firstInvalid) firstInvalid.scrollIntoView({behavior:'smooth', block:'center'});
      }
    });

    // small helper to avoid XSS in displayed result
    function escapeHtml(unsafe) {
      return unsafe
        .replace(/&/g, "&amp;")
        .replace(/</g, "&lt;")
        .replace(/>/g, "&gt;")
        .replace(/"/g, "&quot;")
        .replace(/'/g, "&#039;");
    }
  </script>
</body>
</html>
```

**Ghi ch√∫ ng·∫Øn:**

* M·ªói input c√≥ m·ªôt `<small class="msg">` ƒë·ªÉ hi·ªÉn th·ªã tr·∫°ng th√°i (error / success). Khi invalid hi·ªán ch·ªØ **cam** v√† border cam; khi valid hi·ªán **xanh**; khi tr·ªëng s·∫Ω tr·ªü v·ªÅ m·∫∑c ƒë·ªãnh ƒëen.
* Validation ch·∫°y realtime khi g√µ (input) ‚Äî ph√π h·ª£p UX.
* Telephone t·ª± format `123-456-7890` khi g√µ v√† ƒë∆∞·ª£c validate.
* Khi submit th√†nh c√¥ng s·∫Ω show ph·∫ßn k·∫øt qu·∫£ ph√≠a d∆∞·ªõi v√† reset form.

N·∫øu mu·ªën m√¨nh:

* ƒë·ªïi m√†u/ th√¥ng ƒëi·ªáp,
* hi·ªÉn th·ªã icon ‚úì / ‚úñ c·∫°nh field,
* ho·∫∑c validate password m·∫°nh h∆°n (ch·ª©a s·ªë, k√Ω t·ª± hoa,..) ‚Äî b√°o m√¨nh s·∫Ω c·∫≠p nh·∫≠t ngay.
