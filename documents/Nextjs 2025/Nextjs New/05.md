

# ğŸ§­ **Routing cÆ¡ báº£n trong Next.js App Router**

## ğŸ§± 1ï¸âƒ£ Cáº¥u trÃºc thÆ° má»¥c = Routing tá»± Ä‘á»™ng

Trong App Router, **má»—i thÆ° má»¥c trong `/app` tÆ°Æ¡ng á»©ng vá»›i má»™t route segment**.
Next.js sáº½ tá»± Ä‘á»™ng táº¡o Ä‘Æ°á»ng dáº«n dá»±a theo cáº¥u trÃºc thÆ° má»¥c mÃ  báº¡n táº¡o, **khÃ´ng cáº§n dÃ¹ng `react-router-dom` hay config thá»§ cÃ´ng**.

---

### ğŸ§© **VÃ­ dá»¥:**

```
app/
â”œâ”€â”€ page.tsx              â†’  /
â”œâ”€â”€ about/
â”‚   â””â”€â”€ page.tsx          â†’  /about
â””â”€â”€ contact/
    â””â”€â”€ page.tsx          â†’  /contact
```

ğŸ‘‰ Káº¿t quáº£ routing tá»± Ä‘á»™ng:

| URL        | File tÆ°Æ¡ng á»©ng       |
| ---------- | -------------------- |
| `/`        | app/page.tsx         |
| `/about`   | app/about/page.tsx   |
| `/contact` | app/contact/page.tsx |

---

## ğŸ’¡ 2ï¸âƒ£ Má»—i route cáº§n **page.tsx**

File `page.tsx` lÃ  entry point cho má»™t route.
Náº¿u folder khÃ´ng cÃ³ `page.tsx`, nÃ³ **chá»‰ Ä‘Ã³ng vai trÃ² layout hoáº·c nhÃ³m route (route group)**.

```tsx
// app/about/page.tsx
export default function AboutPage() {
  return (
    <section>
      <h1>About Page</h1>
      <p>This is the about page of our Next.js app.</p>
    </section>
  );
}
```

---

## ğŸ” 3ï¸âƒ£ **Chuyá»ƒn trang (Navigation)**

Trong App Router, báº¡n dÃ¹ng **`<Link>`** tá»« `next/link` Ä‘á»ƒ Ä‘iá»u hÆ°á»›ng mÃ  **khÃ´ng reload trang**.

```tsx
// app/page.tsx
import Link from "next/link";

export default function HomePage() {
  return (
    <nav style={{ display: "flex", gap: "1rem" }}>
      <Link href="/about">About</Link>
      <Link href="/contact">Contact</Link>
    </nav>
  );
}
```

âœ… **CÆ¡ cháº¿:**

* Next.js dÃ¹ng **client-side navigation**, nÃªn chuyá»ƒn trang nhanh (SPA-like).
* Khi chuyá»ƒn, layout cha **váº«n giá»¯ nguyÃªn**, chá»‰ thay pháº§n ná»™i dung cá»§a `page.tsx`.

---

## ğŸ“¦ 4ï¸âƒ£ **Layout cha khÃ´ng bá»‹ reload**

Tiáº¿p tá»¥c tá»« vÃ­ dá»¥ trÆ°á»›c, náº¿u báº¡n cÃ³ `layout.tsx` á»Ÿ root:

```tsx
// app/layout.tsx
export default function RootLayout({ children }: { children: React.ReactNode }) {
  return (
    <html lang="en">
      <body>
        <header>Global Header</header>
        <main>{children}</main>
      </body>
    </html>
  );
}
```

â¡ Khi báº¡n chuyá»ƒn tá»« `/` â†’ `/about`, layout **khÃ´ng render láº¡i**, chá»‰ pháº§n `<main>` thay Ä‘á»•i.

ğŸ§  Äiá»u nÃ y giÃºp:

* Tá»‘i Æ°u hiá»‡u nÄƒng.
* Giá»¯ láº¡i state, layout, animation giá»¯a cÃ¡c trang.

---

## âš™ï¸ 5ï¸âƒ£ **usePathname() â€” láº¥y Ä‘Æ°á»ng dáº«n hiá»‡n táº¡i**

Náº¿u báº¡n muá»‘n biáº¿t ngÆ°á»i dÃ¹ng Ä‘ang á»Ÿ route nÃ o:

```tsx
// app/components/NavBar.tsx
"use client";

import Link from "next/link";
import { usePathname } from "next/navigation";

export default function NavBar() {
  const pathname = usePathname();

  return (
    <nav>
      <Link href="/" style={{ color: pathname === "/" ? "red" : "black" }}>Home</Link>
      <Link href="/about" style={{ color: pathname === "/about" ? "red" : "black" }}>About</Link>
    </nav>
  );
}
```

ğŸ“ Káº¿t quáº£: route hiá»‡n táº¡i sáº½ Ä‘Æ°á»£c tÃ´ mÃ u Ä‘á» â†’ dÃ¹ng Ä‘á»ƒ highlight active link.

---

## ğŸ§  Tá»•ng káº¿t kiáº¿n thá»©c pháº§n nÃ y

| KhÃ¡i niá»‡m           | Ã nghÄ©a                  |
| ------------------- | ------------------------ |
| `page.tsx`          | Entry point cá»§a route    |
| `layout.tsx`        | Layout bao ngoÃ i route   |
| Folder trong `app/` | Segment cá»§a URL          |
| `<Link href>`       | Chuyá»ƒn trang client-side |
| `usePathname()`     | Láº¥y URL hiá»‡n táº¡i         |

---

## ğŸ§© BÃ i táº­p nhá»

> Táº¡o app cÃ³ 3 trang: `/`, `/services`, `/contact`
>
> * Má»—i trang cÃ³ header vÃ  navigation (trong layout).
> * Khi chuyá»ƒn trang, header **giá»¯ nguyÃªn**.
> * Active link Ä‘á»•i mÃ u Ä‘á».
Tá»‘t ğŸ‘Œ Váº­y dÆ°á»›i Ä‘Ã¢y lÃ  **code máº«u hoÃ n chá»‰nh** cho bÃ i táº­p **Routing cÆ¡ báº£n** â€” pháº§n 2.1.
Má»¥c tiÃªu:

* Táº¡o app cÃ³ 3 trang `/`, `/services`, `/contact`.
* CÃ³ `layout.tsx` giá»¯ nguyÃªn header vÃ  navigation.
* Active link tÃ´ Ä‘á» khi á»Ÿ trang hiá»‡n táº¡i.

---

# ğŸ— **Cáº¥u trÃºc thÆ° má»¥c**

```
app/
â”œâ”€â”€ layout.tsx
â”œâ”€â”€ page.tsx
â”œâ”€â”€ services/
â”‚   â””â”€â”€ page.tsx
â”œâ”€â”€ contact/
â”‚   â””â”€â”€ page.tsx
â””â”€â”€ components/
    â””â”€â”€ NavBar.tsx
```

---

# ğŸ“„ **app/layout.tsx**

```tsx
import "./globals.css";
import NavBar from "./components/NavBar";

export const metadata = {
  title: "Next.js Basic Routing",
  description: "Learn basic routing with App Router",
};

export default function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <html lang="en">
      <body style={{ fontFamily: "sans-serif", margin: 0 }}>
        <header
          style={{
            background: "#f8f9fa",
            padding: "1rem",
            borderBottom: "1px solid #ddd",
          }}
        >
          <h1>ğŸŒ¸ My Next.js App</h1>
          <NavBar />
        </header>
        <main style={{ padding: "2rem" }}>{children}</main>
      </body>
    </html>
  );
}
```

---

# ğŸ“„ **app/components/NavBar.tsx**

```tsx
"use client";

import Link from "next/link";
import { usePathname } from "next/navigation";

const navItems = [
  { name: "Home", href: "/" },
  { name: "Services", href: "/services" },
  { name: "Contact", href: "/contact" },
];

export default function NavBar() {
  const pathname = usePathname();

  return (
    <nav style={{ display: "flex", gap: "1rem", marginTop: "1rem" }}>
      {navItems.map((item) => (
        <Link
          key={item.href}
          href={item.href}
          style={{
            color: pathname === item.href ? "crimson" : "#333",
            textDecoration: "none",
            fontWeight: pathname === item.href ? "bold" : "normal",
          }}
        >
          {item.name}
        </Link>
      ))}
    </nav>
  );
}
```

---

# ğŸ“„ **app/page.tsx**

```tsx
export default function HomePage() {
  return (
    <section>
      <h2>ğŸ  Home Page</h2>
      <p>Welcome to the homepage of your first Next.js App Router project!</p>
    </section>
  );
}
```

---

# ğŸ“„ **app/services/page.tsx**

```tsx
export default function ServicesPage() {
  return (
    <section>
      <h2>ğŸ’¼ Services Page</h2>
      <p>We offer high-quality web development and consulting services.</p>
    </section>
  );
}
```

---

# ğŸ“„ **app/contact/page.tsx**

```tsx
export default function ContactPage() {
  return (
    <section>
      <h2>ğŸ“ Contact Page</h2>
      <p>Get in touch via email: hello@example.com</p>
    </section>
  );
}
```

---

# âœ… **Káº¿t quáº£ khi cháº¡y:**

* `/` â†’ Trang chá»§ cÃ³ header vÃ  menu.
* Chuyá»ƒn sang `/services` hay `/contact` â†’ layout giá»¯ nguyÃªn, chá»‰ ná»™i dung thay Ä‘á»•i.
* Active link chuyá»ƒn mÃ u Ä‘á».

---
[<< BÃ€I 04](./04.md) | [BÃ€I 06 >>](./06.md)