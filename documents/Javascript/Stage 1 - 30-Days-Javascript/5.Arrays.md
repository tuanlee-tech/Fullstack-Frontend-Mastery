# Ngày 5

## Mảng (Arrays)

**Mảng**: Là tập hợp dữ liệu có thứ tự, có thể thay đổi (mutable), lưu trữ nhiều giá trị với các kiểu dữ liệu khác nhau. Chỉ số (index) bắt đầu từ 0.

### Tạo mảng rỗng

- Dùng **Array constructor**:

```js
const arr = Array() // hoặc new Array()
console.log(arr) // []
```

- Dùng dấu ngoặc vuông `[]` (khuyến nghị):

```js
const arr = []
console.log(arr) // []
```

### Tạo mảng với giá trị

```js
const numbers = [0, 3.14, 9.81, 37, 98.6, 100]
const fruits = ['banana', 'orange', 'mango', 'lemon']
console.log(numbers.length) // 6
console.log(fruits) // ['banana', 'orange', 'mango', 'lemon']
```

- Mảng có thể chứa nhiều kiểu dữ liệu:

```js
const arr = ['Asabeneh', 250, true, { country: 'Finland' }, ['HTML', 'CSS']]
console.log(arr)
```

### Tạo mảng bằng split

**split**: Chuyển chuỗi thành mảng.

```js
let js = 'JavaScript'
console.log(js.split('')) // ["J", "a", "v", "a", "S", "c", "r", "i", "p", "t"]

let companies = 'Facebook,Google,Microsoft'
console.log(companies.split(',')) // ["Facebook", "Google", "Microsoft"]
```

### Truy cập phần tử mảng bằng chỉ số

```js
const fruits = ['banana', 'orange', 'mango', 'lemon']
console.log(fruits[0]) // banana
console.log(fruits[fruits.length - 1]) // lemon
```

### Sửa đổi phần tử mảng

**Mảng có thể thay đổi (mutable)**:

```js
const numbers = [1, 2, 3, 4, 5]
numbers[0] = 10
console.log(numbers) // [10, 2, 3, 4, 5]
```

### Các phương thức thao tác mảng

1. **Array constructor**: Tạo mảng.

```js
const arr = Array(8) // [empty × 8]
```

2. **fill**: Điền tất cả phần tử bằng giá trị tĩnh.

```js
const eightX = Array(8).fill('X')
console.log(eightX) // ['X', 'X', 'X', 'X', 'X', 'X', 'X', 'X']
```

3. **concat**: Nối hai mảng.

```js
const first = [1, 2, 3]
const second = [4, 5, 6]
console.log(first.concat(second)) // [1, 2, 3, 4, 5, 6]
```

4. **length**: Lấy kích thước mảng.

```js
const numbers = [1, 2, 3, 4, 5]
console.log(numbers.length) // 5
```

5. **indexOf**: Tìm chỉ số của phần tử, trả về -1 nếu không tìm thấy.

```js
const numbers = [1, 2, 3, 4, 5]
console.log(numbers.indexOf(5)) // 4
console.log(numbers.indexOf(0)) // -1
```

6. **lastIndexOf**: Tìm chỉ số cuối cùng của phần tử.

```js
const numbers = [1, 2, 3, 2]
console.log(numbers.lastIndexOf(2)) // 3
```

7. **includes**: Kiểm tra phần tử có trong mảng không.

```js
const numbers = [1, 2, 3]
console.log(numbers.includes(2)) // true
```

8. **Array.isArray**: Kiểm tra xem có phải mảng không.

```js
console.log(Array.isArray([1, 2, 3])) // true
console.log(Array.isArray(100)) // false
```

9. **toString**: Chuyển mảng thành chuỗi.

```js
const numbers = [1, 2, 3]
console.log(numbers.toString()) // 1,2,3
```

10. **join**: Nối các phần tử mảng thành chuỗi với dấu phân cách.

```js
const names = ['Asabeneh', 'Mathias']
console.log(names.join(' # ')) // Asabeneh # Mathias
```

11. **slice**: Cắt mảng từ vị trí bắt đầu đến trước vị trí kết thúc.

```js
const numbers = [1, 2, 3, 4, 5]
console.log(numbers.slice(1, 4)) // [2, 3, 4]
```

12. **splice**: Xóa hoặc thêm phần tử vào mảng.

```js
const numbers = [1, 2, 3, 4, 5]
numbers.splice(2, 2, 6, 7) // Xóa 2 phần tử từ chỉ số 2, thêm 6, 7
console.log(numbers) // [1, 2, 6, 7, 5]
```

13. **push**: Thêm phần tử vào cuối mảng.

```js
const numbers = [1, 2, 3]
numbers.push(4)
console.log(numbers) // [1, 2, 3, 4]
```

14. **pop**: Xóa phần tử cuối mảng.

```js
const numbers = [1, 2, 3]
numbers.pop()
console.log(numbers) // [1, 2]
```

15. **shift**: Xóa phần tử đầu mảng.

```js
const numbers = [1, 2, 3]
numbers.shift()
console.log(numbers) // [2, 3]
```

16. **unshift**: Thêm phần tử vào đầu mảng.

```js
const numbers = [1, 2, 3]
numbers.unshift(0)
console.log(numbers) // [0, 1, 2, 3]
```

17. **reverse**: Đảo ngược thứ tự mảng.

```js
const numbers = [1, 2, 3]
numbers.reverse()
console.log(numbers) // [3, 2, 1]
```

18. **sort**: Sắp xếp mảng theo thứ tự tăng dần.

```js
const webTechs = ['HTML', 'CSS', 'JavaScript']
webTechs.sort()
console.log(webTechs) // ['CSS', 'HTML', 'JavaScript']
```

### Mảng của mảng

Mảng có thể chứa mảng khác.

```js
const frontEnd = ['HTML', 'CSS', 'JS']
const backEnd = ['Node', 'Express']
const fullStack = [frontEnd, backEnd]
console.log(fullStack) // [['HTML', 'CSS', 'JS'], ['Node', 'Express']]
```

---

## Bài tập: Ngày 5

### Bài tập: Cấp độ 1

1. **Khai báo mảng rỗng**

```js
const arr = []
console.log(arr) // []
```

2. **Khai báo mảng có hơn 5 phần tử**

```js
const numbers = [1, 2, 3, 4, 5, 6]
console.log(numbers) // [1, 2, 3, 4, 5, 6]
```

3. **Tìm độ dài mảng**

```js
console.log(numbers.length) // 6
```

4. **Lấy phần tử đầu, giữa và cuối của mảng**

```js
console.log(numbers[0]) // 1
console.log(numbers[Math.floor(numbers.length / 2)]) // 4
console.log(numbers[numbers.length - 1]) // 6
```

5. **Khai báo mảng mixedDataTypes với các kiểu dữ liệu khác nhau, độ dài > 5**

```js
const mixedDataTypes = [1, 'hello', true, { name: 'John' }, [1, 2], null]
console.log(mixedDataTypes.length) // 6
```

6. **Khai báo mảng itCompanies với các giá trị ban đầu**

```js
const itCompanies = ['Facebook', 'Google', 'Microsoft', 'Apple', 'IBM', 'Oracle', 'Amazon']
```

7. **In mảng**

```js
console.log(itCompanies) // ['Facebook', 'Google', 'Microsoft', 'Apple', 'IBM', 'Oracle', 'Amazon']
```

8. **In số lượng công ty**

```js
console.log(itCompanies.length) // 7
```

9. **In công ty đầu, giữa và cuối**

```js
console.log(itCompanies[0]) // Facebook
console.log(itCompanies[Math.floor(itCompanies.length / 2)]) // Apple
console.log(itCompanies[itCompanies.length - 1]) // Amazon
```

10. **In từng công ty**

```js
itCompanies.forEach(company => console.log(company))
```

11. **Chuyển từng tên công ty thành chữ hoa và in**

```js
itCompanies.forEach(company => console.log(company.toUpperCase()))
```

12. **In mảng dưới dạng câu**

```js
console.log(`${itCompanies.join(', ')} are big IT companies.`)
```

13. **Kiểm tra một công ty có trong mảng không**

```js
let company = 'Google'
console.log(itCompanies.includes(company) ? company : `${company} is not found`)
```

14. **Lọc các công ty có hơn một 'o' (không dùng filter)**

```js
const result = []
for (let company of itCompanies) {
  let count = 0
  for (let char of company.toLowerCase()) {
    if (char === 'o') count++
  }
  if (count > 1) result.push(company)
}
console.log(result) // ['Facebook', 'Google']
```

15. **Sắp xếp mảng**

```js
console.log(itCompanies.sort()) // ['Amazon', 'Apple', 'Facebook', 'Google', 'IBM', 'Microsoft', 'Oracle']
```

16. **Đảo ngược mảng**

```js
console.log(itCompanies.reverse()) // ['Oracle', 'Microsoft', 'IBM', 'Google', 'Facebook', 'Apple', 'Amazon']
```

17. **Cắt 3 công ty đầu tiên**

```js
console.log(itCompanies.slice(0, 3)) // ['Oracle', 'Microsoft', 'IBM']
```

18. **Cắt 3 công ty cuối cùng**

```js
console.log(itCompanies.slice(-3)) // ['Facebook', 'Apple', 'Amazon']
```

19. **Cắt công ty giữa**

```js
console.log(itCompanies.slice(Math.floor(itCompanies.length / 2), Math.floor(itCompanies.length / 2) + 1)) // ['Google']
```

20. **Xóa công ty đầu tiên**

```js
itCompanies.shift()
console.log(itCompanies) // ['Microsoft', 'IBM', 'Google', 'Facebook', 'Apple', 'Amazon']
```

21. **Xóa công ty giữa**

```js
itCompanies.splice(Math.floor(itCompanies.length / 2), 1)
console.log(itCompanies) // ['Microsoft', 'IBM', 'Facebook', 'Apple', 'Amazon']
```

22. **Xóa công ty cuối**

```js
itCompanies.pop()
console.log(itCompanies) // ['Microsoft', 'IBM', 'Facebook', 'Apple']
```

23. **Xóa tất cả công ty**

```js
itCompanies.splice(0, itCompanies.length)
console.log(itCompanies) // []
```

### Bài tập: Cấp độ 2

1. **Tạo file countries.js, web_techs.js và truy cập trong main.js**

```js
// countries.js
const countries = ['Albania', 'Bolivia', 'Canada', 'Denmark', 'Ethiopia', 'Finland', 'Germany', 'Hungary', 'Ireland', 'Japan', 'Kenya']
export { countries }

// web_techs.js
const webTechs = ['HTML', 'CSS', 'JavaScript', 'React', 'Redux', 'Node', 'MongoDB']
export { webTechs }

// main.js
import { countries } from './countries.js'
import { webTechs } from './web_techs.js'
console.log(countries, webTechs)
```

**Ghi chú**: Cần môi trường hỗ trợ module (như Node.js với ESM hoặc trình duyệt với <script type="module">).

2. **Xóa dấu câu, chuyển chuỗi thành mảng và đếm số từ**

```js
let text = 'I love teaching and empowering people. I teach HTML, CSS, JS, React, Python.'
let words = text.replace(/[^a-zA-Z\s]/g, '').split(' ')
console.log(words) // ['I', 'love', 'teaching', 'and', 'empowering', 'people', 'I', 'teach', 'HTML', 'CSS', 'JS', 'React', 'Python']
console.log(words.length) // 13
```

3. **Thêm, xóa, sửa mục trong giỏ hàng**

```js
const shoppingCart = ['Milk', 'Coffee', 'Tea', 'Honey']

if (!shoppingCart.includes('Meat')) shoppingCart.unshift('Meat')
console.log(shoppingCart) // ['Meat', 'Milk', 'Coffee', 'Tea', 'Honey']

if (!shoppingCart.includes('Sugar')) shoppingCart.push('Sugar')
console.log(shoppingCart) // ['Meat', 'Milk', 'Coffee', 'Tea', 'Honey', 'Sugar']

if (shoppingCart.includes('Honey')) shoppingCart.splice(shoppingCart.indexOf('Honey'), 1)
console.log(shoppingCart) // ['Meat', 'Milk', 'Coffee', 'Tea', 'Sugar']

shoppingCart[shoppingCart.indexOf('Tea')] = 'Green Tea'
console.log(shoppingCart) // ['Meat', 'Milk', 'Coffee', 'Green Tea', 'Sugar']
```

4. **Kiểm tra và thêm 'Ethiopia' vào mảng countries**

```js
if (countries.includes('Ethiopia')) {
  console.log('ETHIOPIA')
} else {
  countries.push('Ethiopia')
  console.log(countries)
}
```

5. **Kiểm tra và thêm 'Sass' vào mảng webTechs**

```js
if (webTechs.includes('Sass')) {
  console.log('Sass is a CSS preprocess')
} else {
  webTechs.push('Sass')
  console.log(webTechs)
}
```

6. **Nối frontEnd và backEnd thành fullStack**

```js
const frontEnd = ['HTML', 'CSS', 'JS', 'React', 'Redux']
const backEnd = ['Node', 'Express', 'MongoDB']
const fullStack = frontEnd.concat(backEnd)
console.log(fullStack) // ['HTML', 'CSS', 'JS', 'React', 'Redux', 'Node', 'Express', 'MongoDB']
```

### Bài tập: Cấp độ 3

1. **Xử lý mảng ages**

```js
const ages = [19, 22, 19, 24, 20, 25, 26, 24, 25, 24]

// Sắp xếp và tìm min, max
ages.sort()
console.log('Min age:', ages[0]) // 19
console.log('Max age:', ages[ages.length - 1]) // 26

// Tìm trung vị
let mid = Math.floor(ages.length / 2)
let median = ages.length % 2 === 0 ? (ages[mid - 1] + ages[mid]) / 2 : ages[mid]
console.log('Median age:', median) // 24

// Tìm trung bình
let sum = ages.reduce((acc, age) => acc + age, 0)
let average = sum / ages.length
console.log('Average age:', average) // 22.8

// Tìm khoảng (range)
let range = ages[ages.length - 1] - ages[0]
console.log('Range:', range) // 7

// So sánh |min - average| và |max - average|
console.log(Math.abs(ages[0] - average), Math.abs(ages[ages.length - 1] - average)) // 3.8, 3.2
```

2. **Cắt 10 quốc gia đầu từ mảng countries**

```js
console.log(countries.slice(0, 10)) // ['Albania', 'Bolivia', 'Canada', 'Denmark', 'Ethiopia', 'Finland', 'Germany', 'Hungary', 'Ireland', 'Japan']
```

3. **Tìm quốc gia giữa**

```js
let mid = Math.floor(countries.length / 2)
console.log(countries.length % 2 === 0 ? countries.slice(mid - 1, mid + 1) : countries[mid]) // ['Germany']
```

4. **Chia mảng countries thành hai phần**

```js
let half = Math.ceil(countries.length / 2)
let firstHalf = countries.slice(0, half)
let secondHalf = countries.slice(half)
console.log('First half:', firstHalf)
console.log('Second half:', secondHalf)
```

---
[<< Ngày 4](./4.Conditionals.md) | [Ngày 6 >>](./6.Loops.md)