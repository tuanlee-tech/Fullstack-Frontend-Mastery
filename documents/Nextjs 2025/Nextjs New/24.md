
## 🧭 Loading UI trong Next.js

### 🎯 Mục tiêu

* Hiểu cách hiển thị **giao diện loading** khi page hoặc route đang load dữ liệu.
* Biết sử dụng **`loading.tsx` trong App Router** để cải thiện UX.

---

## 🧱 1️⃣ Cơ chế

* Next.js App Router hỗ trợ **file `loading.tsx` trong từng thư mục route**.
* Khi người dùng truy cập route đó, **Next.js tự động render file `loading.tsx`** cho đến khi page thực sự sẵn sàng.
* Hỗ trợ **nested layouts**, mỗi layout có thể có loading riêng.

---

## 🧩 2️⃣ Ví dụ cơ bản

```
app/
├── dashboard/
│   ├── loading.tsx
│   └── page.tsx
```

```tsx
// app/dashboard/loading.tsx
export default function DashboardLoading() {
  return (
    <div style={{ padding: "2rem", textAlign: "center" }}>
      <p>Loading dashboard...</p>
    </div>
  );
}
```

* Khi vào `/dashboard`, Next.js sẽ **show loading component** trước khi page chính `/dashboard/page.tsx` render xong.

---

## 🧱 3️⃣ Nested Loading UI

```
app/
├── dashboard/
│   ├── layout.tsx
│   ├── loading.tsx
│   └── analytics/
│       ├── page.tsx
│       └── loading.tsx
```

* `/dashboard/analytics` sẽ render:

  1. Root layout → dashboard layout
  2. Dashboard `loading.tsx` → Analytics `loading.tsx` (nested)
  3. Page chính khi dữ liệu sẵn sàng

---

## 💡 4️⃣ Lưu ý

* `loading.tsx` **chỉ dùng trong App Router**
* Chỉ nên dùng **giao diện nhẹ**, tránh logic nặng
* Kết hợp tốt với **Suspense + Server Components** để trải nghiệm mượt mà


---
[<< BÀI 23](./23.md) | [BÀI 25 >>](./25.md)