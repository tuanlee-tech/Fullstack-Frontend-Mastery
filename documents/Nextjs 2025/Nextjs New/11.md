## ğŸ§­ File Colocation trong Next.js

### ğŸ¯ Má»¥c tiÃªu

* Hiá»ƒu khÃ¡i niá»‡m **File Colocation** vÃ  vÃ¬ sao nÃ³ giÃºp tá»• chá»©c project tá»‘t hÆ¡n.
* Biáº¿t cÃ¡ch Ä‘á»ƒ **Ä‘áº·t file phá»¥ trá»£ (component, util, hook, v.v.)** cÃ¹ng cáº¥p vá»›i route mÃ  khÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n routing.
* PhÃ¢n biá»‡t rÃµ **file public trong route** vÃ  **file áº©n (private)**.

---

## ğŸ§± 1ï¸âƒ£ KhÃ¡i niá»‡m cÆ¡ báº£n

Trong App Router, **má»i thÆ° má»¥c trong `app/` Ä‘á»u cÃ³ thá»ƒ trá»Ÿ thÃ nh má»™t route** náº¿u chá»©a file `page.tsx`, `layout.tsx`, v.v.
Tuy nhiÃªn, báº¡n váº«n **cÃ³ thá»ƒ Ä‘áº·t cÃ¡c file khÃ¡c trong cÃ¹ng thÆ° má»¥c route mÃ  khÃ´ng biáº¿n chÃºng thÃ nh route**.
CÆ¡ cháº¿ nÃ y gá»i lÃ  **File Colocation**.

---

### ğŸ”¹ VÃ­ dá»¥ cÆ¡ báº£n

```
app/
â”œâ”€â”€ dashboard/
â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”œâ”€â”€ page.tsx
â”‚   â”œâ”€â”€ Chart.tsx         â† file Colocation (chá»‰ dÃ¹ng ná»™i bá»™)
â”‚   â”œâ”€â”€ utils.ts          â† file Colocation (hÃ m phá»¥ trá»£)
â”‚   â””â”€â”€ components/
â”‚       â””â”€â”€ Card.tsx      â† component phá»¥ trá»£
```

â¡ CÃ¡c file `Chart.tsx`, `utils.ts`, `Card.tsx` **khÃ´ng táº¡o route riÃªng** â€”
chÃºng chá»‰ lÃ  file phá»¥ trá»£ cho `/dashboard`.

---

## ğŸ§© 2ï¸âƒ£ Khi nÃ o dÃ¹ng File Colocation

DÃ¹ng khi báº¡n muá»‘n:

* Giá»¯ **component, logic vÃ  UI liÃªn quan trong cÃ¹ng má»™t thÆ° má»¥c route**.
* TrÃ¡nh viá»‡c pháº£i táº¡o quÃ¡ nhiá»u thÆ° má»¥c â€œsharedâ€ hoáº·c â€œcomponentsâ€ khÃ´ng cáº§n thiáº¿t.
* Dá»… **refactor hoáº·c xÃ³a route** mÃ  khÃ´ng sá»£ sÃ³t file.

VÃ­ dá»¥: táº¥t cáº£ logic cá»§a `/dashboard` Ä‘á»u náº±m trong `app/dashboard/`, dá»… tÃ¬m vÃ  dá»… báº£o trÃ¬.

---

## âš™ï¸ 3ï¸âƒ£ File Colocation KHÃ”NG trá»Ÿ thÃ nh route náº¿u:

âœ… KhÃ´ng cÃ³ tÃªn Ä‘áº·c biá»‡t (`page.tsx`, `layout.tsx`, `loading.tsx`, `error.tsx`, `not-found.tsx`, v.v.)
âœ… KhÃ´ng náº±m trong thÆ° má»¥c cÃ³ `[param]` hoáº·c segment Ä‘áº·c biá»‡t

---

## ğŸ“„ 4ï¸âƒ£ VÃ­ dá»¥ minh há»a

```tsx
// app/dashboard/page.tsx
import Chart from "./Chart";

export default function DashboardPage() {
  return (
    <section style={{ padding: "1rem" }}>
      <h1>ğŸ“Š Dashboard Overview</h1>
      <Chart />
    </section>
  );
}
```

```tsx
// app/dashboard/Chart.tsx
export default function Chart() {
  return (
    <div
      style={{
        background: "#f2f2f2",
        padding: "1rem",
        borderRadius: 8,
        marginTop: "1rem",
      }}
    >
      <h3>ğŸ“ˆ Sales Chart</h3>
      <p>Data visualization coming soon...</p>
    </div>
  );
}
```

â¡ `/dashboard` chá»‰ hiá»ƒn thá»‹ má»™t route duy nháº¥t, nhÆ°ng logic UI chia nhá» rÃµ rÃ ng trong cÃ¹ng thÆ° má»¥c.

---

## ğŸ§  5ï¸âƒ£ Æ¯u Ä‘iá»ƒm

âœ… Tá»• chá»©c module theo **feature-based structure**
âœ… Dá»… di chuyá»ƒn hoáº·c xoÃ¡ route mÃ  khÃ´ng áº£nh hÆ°á»Ÿng nÆ¡i khÃ¡c
âœ… Code sáº¡ch hÆ¡n, giáº£m sá»‘ lÆ°á»£ng import rá»‘i ráº¯m tá»« nhiá»u thÆ° má»¥c

---

## ğŸ’¬ 6ï¸âƒ£ BÃ i táº­p nhá»

> Refactor láº¡i route `/dashboard/analytics` báº±ng cÃ¡ch:
>
> * Táº¡o file `Chart.tsx` vÃ  `Table.tsx` trong cÃ¹ng thÆ° má»¥c.
> * Import chÃºng vÃ o `page.tsx`.
> * Äáº£m báº£o cáº£ 2 file chá»‰ dÃ¹ng ná»™i bá»™, khÃ´ng táº¡o route má»›i.


---
[<< BÃ€I 10](./10.md) | [BÃ€I 12 >>](./12.md)