# Object trong Javascript
<details>
<summary><strong>1. Object trong JavaScript</strong></summary>

### 2.1 Object l√† g√¨?

* Object l√† **ki·ªÉu d·ªØ li·ªáu d·∫°ng tham chi·∫øu** trong JavaScript, d√πng ƒë·ªÉ bi·ªÉu di·ªÖn m·ªôt v·∫≠t th·ªÉ c·ª• th·ªÉ.
* Object l√† **t·∫≠p h·ª£p c√°c c·∫∑p key-value**, trong ƒë√≥:

  * **key**: t√™n thu·ªôc t√≠nh (ki·ªÉu `string` ho·∫∑c `symbol`)
  * **value**: gi√° tr·ªã t∆∞∆°ng ·ª©ng (b·∫•t k·ª≥ ki·ªÉu d·ªØ li·ªáu n√†o, k·ªÉ c·∫£ object kh√°c)

**V√≠ d·ª•:**

```js
let myComputer = {
  type: "laptop",
  brand: "Sony",
  os: "Windows 7",
  graphicCard: "NVIDIA",
};
```

* Object c√≥ th·ªÉ **r·ªóng**:

```js
let emptyObj = {};
let anotherEmpty = new Object(); // √≠t d√πng
```

---

### 2.2 Truy c·∫≠p v√† c·∫≠p nh·∫≠t thu·ªôc t√≠nh

**C√°ch truy c·∫≠p:**

1. To√°n t·ª≠ ch·∫•m `.`
2. To√°n t·ª≠ ngo·∫∑c vu√¥ng `[]` (ph√π h·ª£p v·ªõi key c√≥ d·∫•u c√°ch, k√Ω t·ª± ƒë·∫∑c bi·ªát, ho·∫∑c key runtime)

```js
console.log(myComputer.type); // laptop
console.log(myComputer["operating system"]); // Windows 7
```

**C·∫≠p nh·∫≠t thu·ªôc t√≠nh:**

```js
myComputer.type = "desktop";
myComputer["operating system"] = "Ubuntu";
```

**Th√™m thu·ªôc t√≠nh m·ªõi:**

```js
myComputer.status = "sleep";
myComputer["it is good"] = true;
```

**X√≥a thu·ªôc t√≠nh:**

```js
delete myComputer.brand;
delete myComputer["graphic card"];
```

---

### 2.3 To√°n t·ª≠ \[] linh ho·∫°t

* Cho ph√©p **key l√† bi·∫øn ho·∫∑c bi·ªÉu th·ª©c**:

```js
let t = "type";
let osKey = "operating system";

let myComputer = {
  [t]: "laptop",
  brand: "Sony",
  [osKey]: "Windows 7",
  ["graphic" + " " + "card"]: "NVIDIA",
};
```

* Truy c·∫≠p:

```js
console.log(myComputer.type); // "laptop"
console.log(myComputer["operating system"]); // "Windows 7"
```

---

### 2.4 C√∫ ph√°p r√∫t g·ªçn khi t·∫°o object

```js
function makeComputer(type, brand, os, graphicCard) {
  return { type, brand, os, graphicCard };
}

let myComputer = makeComputer("laptop", "Sony", "Windows 7", "NVIDIA");
```

---

### 2.5 Ki·ªÉm tra t√≠nh t·ªìn t·∫°i c·ªßa thu·ªôc t√≠nh

* **Truy c·∫≠p tr·ª±c ti·∫øp** kh√¥ng ƒë√°ng tin khi gi√° tr·ªã l√† `undefined`.
* S·ª≠ d·ª•ng to√°n t·ª≠ `in`:

```js
let user = { name: undefined };
console.log("name" in user); // true
console.log("age" in user); // false
```

---

### 2.6 Duy·ªát t·∫•t c·∫£ c√°c thu·ªôc t√≠nh

```js
for (let prop in myComputer) {
  console.log(prop, ":", myComputer[prop]);
}
```

* **Th·ª© t·ª±:**

  * Thu·ªôc t√≠nh s·ªë nguy√™n: tƒÉng d·∫ßn
  * Thu·ªôc t√≠nh c√≤n l·∫°i: theo th·ª© t·ª± th√™m v√†o object

---

### 2.7 M·ªôt s·ªë object s·∫µn c√≥

* `arguments`: ch·ª©a t·∫•t c·∫£ tham s·ªë truy·ªÅn v√†o h√†m
* `Math`: cung c·∫•p c√°c h√†m to√°n h·ªçc nh∆∞ `Math.min`, `Math.max`, `Math.sqrt`, `Math.abs`
* `window` (tr√™n tr√¨nh duy·ªát): object to√†n c·ª•c, bi·∫øn global thu·ªôc object n√†y

---

### 2.8 Th·ª±c h√†nh

```js
// 1. T·∫°o object r·ªóng `point`.
let point = {};

// 2. Th√™m thu·ªôc t√≠nh `x` v·ªõi gi√° tr·ªã `2`.
point.x = 2;

// 3. Th√™m thu·ªôc t√≠nh `y` v·ªõi gi√° tr·ªã `3`.
point.y = 3;

// 4. Th√™m thu·ªôc t√≠nh `z index` v·ªõi gi√° tr·ªã `1000`.
point["z-index"] = 1000;

// 5. T√≠nh t·ªïng gi√° tr·ªã c√°c thu·ªôc t√≠nh.
let sum = 0;
for (let key in point) {
  sum += point[key];
}
console.log(sum); // 1005

// 6. Thay ƒë·ªïi gi√° tr·ªã thu·ªôc t√≠nh `x` th√†nh `1`.
point.x = 1;

// 7. X√≥a thu·ªôc t√≠nh `y`.
delete point.y;
```

</details>
<details>
<summary><strong>2. So s√°nh hai Object trong JavaScript</strong></summary>

### Ki·ªÉu d·ªØ li·ªáu tham chi·∫øu

* Object l∆∞u tr·ªØ **theo ƒë·ªãa ch·ªâ trong b·ªô nh·ªõ**.
* Khi g√°n object n√†y cho bi·∫øn kh√°c, bi·∫øn m·ªõi **tham chi·∫øu ƒë·∫øn c√πng m·ªôt ƒë·ªãa ch·ªâ**, kh√¥ng t·∫°o b·∫£n sao.

```js
let p1 = { x: 1, y: 2 };
let p2 = p1;

p2.x = 2;
console.log(p1.x); // 2
console.log(p2.x); // 2
```

---

### So s√°nh object b·∫±ng tham chi·∫øu

* S·ª≠ d·ª•ng `==`, `===` ho·∫∑c `Object.is`:

  * Hai object **b·∫±ng nhau** khi c√πng tr·ªè ƒë·∫øn **c√πng ƒë·ªãa ch·ªâ b·ªô nh·ªõ**.

```js
let x = {};
let y = x;       // c√πng tham chi·∫øu
let z = {};      // object ƒë·ªôc l·∫≠p

console.log(y === x); // true
console.log(z === x); // false
console.log(Object.is(y, x)); // true
console.log(Object.is(z, x)); // false
```

---

### So s√°nh object theo gi√° tr·ªã (th·ªß c√¥ng)

* So s√°nh t·ª´ng thu·ªôc t√≠nh:

```js
let point1 = { x: 1, y: 2 };
let point2 = { x: 1, y: 2 };

function isPointEqual(p1, p2) {
  return p1.x === p2.x && p1.y === p2.y;
}

console.log(isPointEqual(point1, point2)); // true
```

* N·∫øu object c√≥ nhi·ªÅu thu·ªôc t√≠nh ho·∫∑c s·ªë l∆∞·ª£ng kh√¥ng bi·∫øt tr∆∞·ªõc, d√πng **v√≤ng l·∫∑p `for...in`**:

```js
function isShallowEqual(obj1, obj2) {
  for (let prop in obj1) {
    if (obj1[prop] !== obj2[prop]) return false;
  }
  for (let prop in obj2) {
    if (obj2[prop] !== obj1[prop]) return false;
  }
  return true;
}

let point1 = { x: 1, y: 2 };
let point2 = { x: 1, y: 2 };
console.log(isShallowEqual(point1, point2)); // true
```

* **L∆∞u √Ω:** So s√°nh n√¥ng **kh√¥ng √°p d·ª•ng ƒë∆∞·ª£c v·ªõi gi√° tr·ªã ki·ªÉu object** (l·ªìng nhau):

```js
let point1 = { x: 1, y: 2, metadata: { type: "point" } };
let point2 = { x: 1, y: 2, metadata: { type: "point" } };

console.log(isShallowEqual(point1, point2)); // false
```

---

### So s√°nh s√¢u (Deep Equality)

* Duy·ªát t·∫•t c·∫£ c√°c thu·ªôc t√≠nh **ƒë·ªá quy** ƒë·ªÉ so s√°nh c√°c object l·ªìng nhau.
* Trong th·ª±c t·∫ø, c√≥ th·ªÉ d√πng th∆∞ vi·ªán nh∆∞ **Lodash**: `_.isEqual(obj1, obj2)` ƒë·ªÉ so s√°nh an to√†n.

---

### T·ªïng k·∫øt

C√°c c√°ch so s√°nh object trong JavaScript:

1. **So s√°nh b·∫±ng tham chi·∫øu:** `==`, `===`, `Object.is`
2. **So s√°nh th·ªß c√¥ng theo gi√° tr·ªã:** so s√°nh t·ª´ng thu·ªôc t√≠nh
3. **So s√°nh n√¥ng (Shallow equality):** duy·ªát m·ªôt c·∫•p thu·ªôc t√≠nh
4. **So s√°nh s√¢u (Deep equality):** duy·ªát t·∫•t c·∫£ c·∫•p thu·ªôc t√≠nh (d√πng ƒë·ªá quy ho·∫∑c th∆∞ vi·ªán)

</details>
<details>
<summary><strong>3. Copy Object trong JavaScript</strong></summary>

### Object l√† ki·ªÉu d·ªØ li·ªáu tham chi·∫øu

* Khi g√°n object n√†y cho bi·∫øn kh√°c, th·ª±c ch·∫•t **ch·ªâ copy ƒë·ªãa ch·ªâ b·ªô nh·ªõ**, kh√¥ng t·∫°o b·∫£n sao.

```js
let p1 = { x: 1, y: 2 };
let p2 = p1;

p2.x = 5;
console.log(p1.x); // 5
console.log(p2.x); // 5
```

---

### 1. Copy object b·∫±ng v√≤ng l·∫∑p `for...in`

* Duy·ªát t·∫•t c·∫£ c√°c thu·ªôc t√≠nh v√† g√°n gi√° tr·ªã sang object m·ªõi.

```js
let p1 = { x: 1, y: 2 };
let p2 = {};
for (let key in p1) {
  p2[key] = p1[key];
}

p2.x = 5;
console.log(p1.x); // 1
console.log(p2.x); // 5
```

---

### 2. Copy n√¥ng (Shallow copy) v·ªõi `Object.assign()` ho·∫∑c spread `...`

* **C√∫ ph√°p Object.assign**:

```js
Object.assign(dest, src1, src2, ...);
```

* V√≠ d·ª•:

```js
let user = { name: "Alex" };
let permission1 = { canView: true };
let permission2 = { canEdit: false };

Object.assign(user, permission1, permission2);
// user = { name: "Alex", canView: true, canEdit: false }
```

* **C√∫ ph√°p spread**:

```js
let p2 = { ...p1 };
```

* **L∆∞u √Ω:** Copy n√¥ng ch·ªâ sao ch√©p **m·ªôt c·∫•p**; n·∫øu thu·ªôc t√≠nh l√† object, v·∫´n c√πng tham chi·∫øu:

```js
let point1 = { x: 1, y: 2, metadata: { type: "point" } };
let point2 = Object.assign({}, point1);

point2.metadata.type = "CHANGED";
console.log(point1.metadata.type); // CHANGED
```

---

### 3. Copy s√¢u (Deep copy)

* T·∫°o object ho√†n to√†n ƒë·ªôc l·∫≠p, k·ªÉ c·∫£ object l·ªìng nhau.
* D√πng `JSON.stringify()` + `JSON.parse()`:

```js
let point1 = { x: 1, y: 2, metadata: { type: "point" } };
let point2 = JSON.parse(JSON.stringify(point1));

point2.metadata.type = "CHANGED";
console.log(point1.metadata.type); // point
console.log(point2.metadata.type); // CHANGED
```

* **Gi·ªõi h·∫°n:**

  * Kh√¥ng copy ƒë∆∞·ª£c c√°c thu·ªôc t√≠nh c√≥ gi√° tr·ªã l√† **h√†m**.

```js
let point1 = { getDisplayName: () => "test" };
let point2 = JSON.parse(JSON.stringify(point1));
console.log(point2.getDisplayName); // undefined
```

* Gi·∫£i ph√°p n√¢ng cao: d√πng th∆∞ vi·ªán nh∆∞ **Lodash**: `_.cloneDeep(value)`.

---

### T·ªïng k·∫øt

* Object l√† ki·ªÉu d·ªØ li·ªáu tham chi·∫øu, copy th√¥ng th∆∞·ªùng l√† copy ƒë·ªãa ch·ªâ.
* **C√°c c√°ch copy object ƒë·ªôc l·∫≠p:**

  1. V√≤ng l·∫∑p `for...in`
  2. `Object.assign()` ho·∫∑c spread `...` ‚Üí copy n√¥ng
  3. `JSON.stringify()` + `JSON.parse()` ho·∫∑c `_.cloneDeep()` ‚Üí copy s√¢u

</details>
<details>
<summary><strong>4. Garbage Collection trong JavaScript</strong></summary>

### 1. Kh√°i ni·ªám

* JavaScript qu·∫£n l√Ω b·ªô nh·ªõ **t·ª± ƒë·ªông**.
* Khi m·ªôt v√πng nh·ªõ **kh√¥ng c√≤n s·ª≠ d·ª•ng**, Garbage Collector (GC) s·∫Ω **t·ª± ƒë·ªông gi·∫£i ph√≥ng**.

---

### 2. Kh·∫£ nƒÉng truy c·∫≠p (Reachability)

* **Gi√° tr·ªã ‚Äúc√≥ th·ªÉ truy c·∫≠p‚Äù**: c√≥ th·ªÉ truy xu·∫•t t·ª´ **root**.
* **Root** bao g·ªìm:

  * Bi·∫øn to√†n c·ª•c
  * Bi·∫øn c·ª•c b·ªô trong h√†m ƒëang th·ª±c thi
  * Tham s·ªë h√†m
  * C√°c h√†m ƒë∆∞·ª£c g·ªçi t·ª´ root
* **Garbage Collector** ch·ªâ x√≥a c√°c object **kh√¥ng th·ªÉ truy c·∫≠p t·ª´ root**.

#### V√≠ d·ª• ƒë∆°n gi·∫£n

```js
let user = { name: "John" };
user = null; // "John" kh√¥ng c√≤n tham chi·∫øu ‚Üí GC s·∫Ω x√≥a
```

![img](./images/157900250-a849f473-cab8-4e57-b815-b46a1360a8c3.png)

![img](./images/157900325-3d61de6c-9676-4c0c-892f-395f7b94f284.png)
#### Hai tham chi·∫øu ƒë·∫øn object

```js
let user = { name: "John" };
let admin = user;

user = null; 
// John v·∫´n c√≥ th·ªÉ truy c·∫≠p qua admin ‚Üí kh√¥ng b·ªã x√≥a
```

![img](./images/157900407-c5121f90-8f23-4245-8ef3-b1b10df2e34b.png)

---

### 3. Object c√≥ li√™n k·∫øt n·ªôi b·ªô

* Object c√≥ th·ªÉ tham chi·∫øu l·∫´n nhau nh∆∞ng n·∫øu **kh√¥ng c√≥ tham chi·∫øu t·ª´ root**, to√†n b·ªô nh√≥m object s·∫Ω b·ªã x√≥a.

```js
function marry(man, woman) {
  woman.husband = man;
  man.wife = woman;

  return { father: man, mother: woman };
}

let family = marry({ name: "John" }, { name: "Ann" });

```
H√†m `marry` ƒë√£ m√≥c n·ªëi hai object `man` v√† `woman` b·∫±ng c√°ch ƒë·ªÉ hai object tham chi·∫øu ƒë·∫øn l·∫´n nhau. R·ªìi tr·∫£ v·ªÅ m·ªôt object m·ªõi ch·ª©a c·∫£ hai object `man` v√† `woman`.

K·∫øt qu·∫£ thu ƒë∆∞·ª£c nh∆∞ sau:

![img](./images/157900575-79d60ef4-b1d2-44b3-a284-28cdf1faa828.png)

Trong h√¨nh tr√™n, t·∫•t c·∫£ c√°c object ƒë·ªÅu l√† "c√≥ th·ªÉ ti·∫øp c·∫≠n".

B√¢y gi·ªù, m√¨nh x√≥a ƒëi hai tham chi·∫øu:
```js
delete family.father;
delete family.mother.husband;
```
![img](./images/157901154-bf9cfd1b-8113-40d2-85f0-7b84f85f3975.png)

B·∫°n th·∫•y r·∫±ng, John kh√¥ng c√≥ tham chi·∫øu n√†o ƒëi ƒë·∫øn. N√≥i c√°ch kh√°c l√† kh√¥ng th·ªÉ truy c·∫≠p ƒë·∫øn John t·ª´ root. Do ƒë√≥, v√πng nh·ªõ c·ªßa John s·∫Ω b·ªã x√≥a.

![img](./images/157901277-2954047e-b761-43ab-8511-f0b5b7f11edf.png)

Sau khi x√≥a v√πng nh·ªõ c·ªßa John, k·∫øt qu·∫£ c√≤n l·∫°i l√†:

![img](./images/157901323-8ae73c8c-5f3b-486d-a6e7-1d203ccd36ab.png)

**Nh√≥m c√°c object kh√¥ng th·ªÉ ti·∫øp c·∫≠n**
C√≥ tr∆∞·ªùng h·ª£p m√† c·∫£ m·ªôt nh√≥m c√°c object l√† "kh√¥ng th·ªÉ ti·∫øp c·∫≠n" v√† b·ªã x√≥a kh·ªèi b·ªô nh·ªõ.

V√≠ d·ª• v·ªõi object ban ƒë·∫ßu, m√¨nh ghi ƒë√® gi√° tr·ªã c·ªßa `family`:
```js
family = null;
```
Khi ƒë√≥, b·∫£n ƒë·ªì b·ªô nh·ªõ s·∫Ω nh∆∞ sau:

![img](./images/157901374-384430d2-e6fb-4e74-819d-7a0caf349a17.png)

M·∫∑c d√π, John v√† Ann ƒë·ªÅu c√≥ tham chi·∫øu n·ªôi b·ªô ƒë·∫øn nhau. Th·∫≠m ch√≠, John v√† Ann c√≤n c√≥ tham chi·∫øu ƒëi ƒë·∫øn. Nh∆∞ng nh∆∞ v·∫≠y l√† ch∆∞a ƒë·ªß.

V√¨ quan tr·ªçng h∆°n c·∫£, nh·ªØng object n√†y l·∫°i kh√¥ng c√≥ tham chi·∫øu t·ª´ root. N√™n t·∫•t c·∫£ ch√∫ng ƒë·ªÅu "kh√¥ng th·ªÉ ti·∫øp c·∫≠n".

K·∫øt qu·∫£ l√† nh√≥m c√°c object n√†y b·ªã x√≥a kh·ªèi b·ªô nh·ªõ.

---

### 4. Thu·∫≠t to√°n Garbage Collection

**Mark-and-Sweep (‚Äúƒë√°nh d·∫•u v√† x√≥a‚Äù)**

1. B·∫Øt ƒë·∫ßu t·ª´ **root**, ƒë√°nh d·∫•u c√°c object c√≥ th·ªÉ truy c·∫≠p.
![img](./images/157901591-98163c08-03a1-4c75-9e32-a6c74f1387c2.png)

2. Duy·ªát t·∫•t c·∫£ object ƒë∆∞·ª£c ƒë√°nh d·∫•u, ti·∫øp t·ª•c ƒë√°nh d·∫•u c√°c object tham chi·∫øu t·ª´ n√≥.
![img](./images/157901636-5fa50e81-3904-4d55-bb64-45b6c13979f5.png)
![img](./images/157901674-275b72ea-4320-4599-84ab-f4d24f394da8.png)

3. Object kh√¥ng ƒë∆∞·ª£c ƒë√°nh d·∫•u ‚Üí **kh√¥ng th·ªÉ truy c·∫≠p** ‚Üí x√≥a kh·ªèi b·ªô nh·ªõ.
![img](./images/157901690-f1de6f9b-15b7-479d-ad5f-e76df25fe6c7.png)


---

### 5. T·ªëi ∆∞u Garbage Collection

* **Generational Collection:** ph√¢n chia object th√†nh ‚Äúm·ªõi‚Äù v√† ‚Äúc≈©‚Äù, ki·ªÉm tra c√°c object m·ªõi th∆∞·ªùng xuy√™n h∆°n.
* **Incremental Collection:** chia qu√° tr√¨nh GC th√†nh nhi·ªÅu b∆∞·ªõc nh·ªè, ch·∫°y song song v·ªõi lu·ªìng ch√≠nh.
* **Idle-time Collection:** GC ch·∫°y khi CPU r·∫£nh r·ªói ƒë·ªÉ kh√¥ng ·∫£nh h∆∞·ªüng hi·ªáu nƒÉng.

---

### 6. T·ªïng k·∫øt

* Garbage Collection **t·ª± ƒë·ªông**, kh√¥ng c·∫ßn can thi·ªáp th·ªß c√¥ng.
* Object t·ªìn t·∫°i **cho ƒë·∫øn khi kh√¥ng th·ªÉ truy c·∫≠p t·ª´ root**.
* Object c√≥ tham chi·∫øu l·∫´n nhau nh∆∞ng kh√¥ng c√≥ root v·∫´n b·ªã x√≥a.
* JavaScript Engine t·ªëi ∆∞u GC ƒë·ªÉ tr√°nh ·∫£nh h∆∞·ªüng ƒë·∫øn hi·ªáu nƒÉng.

</details>
<details>
<summary><strong>5. Ph∆∞∆°ng th·ª©c trong JavaScript & t·ª´ kh√≥a this</strong></summary>

### 1. Ph∆∞∆°ng th·ª©c c·ªßa Object

* **H√†m g√°n cho thu·ªôc t√≠nh c·ªßa object** g·ªçi l√† **ph∆∞∆°ng th·ª©c**.
* V√≠ d·ª•:

```js
let user = { name: "Alex", age: 28 };

// Function expression
user.sayHello = function() { console.log("Hello!"); };
user.sayHello(); // Hello!

// Function declaration
function sayHello() { console.log("Hello!"); }
user.sayHello = sayHello;
user.sayHello(); // Hello!
```

#### C√∫ ph√°p khai b√°o ph∆∞∆°ng th·ª©c khi t·∫°o object

```js
let user = {
  name: "Alex",
  age: 28,
  sayHello: function() { console.log("Hello!"); },
};

// C√∫ ph√°p ng·∫Øn g·ªçn
let user = {
  name: "Alex",
  age: 28,
  sayHello() { console.log("Hello!"); },
};

user.sayHello(); // Hello!
```

---

### 2. T·ª´ kh√≥a `this` trong JavaScript

* `this` **l√† object g·ªçi ph∆∞∆°ng th·ª©c** (ƒë·ªëi t∆∞·ª£ng tr∆∞·ªõc d·∫•u ch·∫•m `.`).

```js
let user = {
  name: "Alex",
  sayHello() {
    console.log(this.name + " says Hello!");
  },
};

user.sayHello(); // Alex says Hello!
```

* **Kh√¥ng n√™n d√πng tr·ª±c ti·∫øp t√™n object b√™n trong ph∆∞∆°ng th·ª©c**, v√¨ n·∫øu copy object, truy c·∫≠p s·∫Ω l·ªói:

```js
let admin = user;
user = null;
admin.sayHello(); // L·ªói n·∫øu d√πng user.name
```

---

### 3. C√°ch `this` ho·∫°t ƒë·ªông

* `this` ƒë∆∞·ª£c x√°c ƒë·ªãnh **t·∫°i th·ªùi ƒëi·ªÉm g·ªçi h√†m**.

```js
let user1 = { name: "Alex" };
let user2 = { name: "John" };

function sayHello() { console.log(this.name); }

user1.sayHi = sayHello;
user2.sayHi = sayHello;

user1.sayHi(); // Alex
user2.sayHi(); // John
```

* N·∫øu g·ªçi tr·ª±c ti·∫øp h√†m b√¨nh th∆∞·ªùng (kh√¥ng qua object):

```js
"use strict";
function sayHello() { console.log(this); }
sayHello(); // undefined
```

* Kh√¥ng d√πng strict mode ‚Üí `this` l√† **global object** (window).

---

### 4. Arrow function & this

* Arrow function **kh√¥ng c√≥ this ri√™ng**, d√πng this t·ª´ **ng·ªØ c·∫£nh bao ngo√†i**.

```js
let user = {
  name: "Alex",
  sayHello() {
    let arrowFunc = () => console.log(this.name);
    arrowFunc();
  },
};
user.sayHello(); // Alex
```

* Arrow function g√°n tr·ª±c ti·∫øp v√†o object:

```js
let user = {
  name: "Alex",
  sayHello: () => console.log(this.name),
};
user.sayHello(); // undefined
```

---

### 5. Method chaining

* Tr·∫£ v·ªÅ `this` trong ph∆∞∆°ng th·ª©c ƒë·ªÉ **x√¢u chu·ªói c√°c ph∆∞∆°ng th·ª©c**.

```js
let obj = {
  count: 0,
  increase() { this.count++; return this; },
  decrease() { this.count--; return this; },
  showCount() { console.log(this.count); return this; },
};

obj.increase().increase().decrease().showCount(); // 1
```

---

### 6. T·ªïng k·∫øt

* Ph∆∞∆°ng th·ª©c = h√†m g√°n cho thu·ªôc t√≠nh object.
* `this` = object g·ªçi ph∆∞∆°ng th·ª©c.
* `this` x√°c ƒë·ªãnh **t·∫°i runtime**.
* Arrow function kh√¥ng c√≥ `this`.
* C√≥ th·ªÉ d√πng **method chaining** b·∫±ng c√°ch return `this`.

---

### 7. Th·ª±c h√†nh

**B√†i 1:**

```js
"use strict";
function createUser(name) {
  return { name, ref: this };
}
let alex = createUser("Alex");
console.log(alex.ref.name); // L·ªói: undefined
```

**B√†i 2: Object Calculator**

```js
let calculator = {
  read() {
    this.a = +prompt("Nh·∫≠p a:", 0);
    this.b = +prompt("Nh·∫≠p b:", 0);
  },
  add() { return this.a + this.b; },
  mul() { return this.a * this.b; },
};

calculator.read();
console.log(calculator.add());
console.log(calculator.mul());
```

**B√†i 3: Method chaining**

```js
let obj = {
  count: 0,
  increase() { this.count++; return this; },
  decrease() { this.count--; return this; },
  showCount() { console.log(this.count); return this; },
};

obj.increase().increase().decrease().showCount(); // 1
```

</details>
<details>
<summary><strong>6. Gi√° tr·ªã <code>this</code> trong JavaScript</strong></summary>

### 1. Kh√°i ni·ªám

* `this` l√† **b·ªëi c·∫£nh (context)** c·ªßa n∆°i h√†m ch·ª©a `this` ƒë∆∞·ª£c g·ªçi.
* Ch·ªâ c√≥ **2 lo·∫°i context**:

  1. Object ch·ª©a ph∆∞∆°ng th·ª©c ƒë∆∞·ª£c g·ªçi
  2. Global context (to√†n c·ª•c)
* Khi g·∫∑p `this`, ch·ªâ quan t√¢m **v·ªã tr√≠ g·ªçi h√†m** ch·ª© kh√¥ng ph·∫£i n·ªôi h√†m hi·ªán t·∫°i.

---

### 2. `this` trong ng·ªØ c·∫£nh to√†n c·ª•c

```js
console.log(this === window); // true (tr√¨nh duy·ªát)
this.color = "Red";
console.log(window.color); // 'Red'
```

* Tr√™n Node.js, `this` ·ªü global context l√† `global`.

---

### 3. `this` trong h√†m

#### a. G·ªçi h√†m th√¥ng th∆∞·ªùng

* **Non-strict mode:** `this` = ƒë·ªëi t∆∞·ª£ng to√†n c·ª•c

```js
function run() { console.log(this === window); }
run(); // true
```

* **Strict mode:** `this` = undefined

```js
"use strict";
function run() { console.log(this === undefined); }
run(); // true
```

#### b. G·ªçi ph∆∞∆°ng th·ª©c

```js
let person = {
  name: "Thaycacac",
  getName: function() { return this.name; }
};

console.log(person.getName()); // Thaycacac
```

* L∆∞u ph∆∞∆°ng th·ª©c v√†o bi·∫øn, g·ªçi tr·ª±c ti·∫øp:

```js
const getName = person.getName;
console.log(getName()); // undefined (strict mode)
```

* Gi·∫£i ph√°p: `bind`

```js
const getNameBound = person.getName.bind(person);
console.log(getNameBound()); // Thaycacac
```

#### c. G·ªçi h√†m kh·ªüi t·∫°o (constructor) v·ªõi `new`

```js
function Person(name) { this.name = name; }
var obj = new Person("Thaycacac");
console.log(obj.name); // Thaycacac
```

* G·ªçi m√† kh√¥ng d√πng `new` ‚Üí `this` = global ‚Üí c√≥ th·ªÉ l·ªói

```js
var girl = Person("Huyen"); // this.name = global.name
console.log(girl.name); // TypeError
```

* C√°ch b·∫£o v·ªá:

```js
function Person(name) {
  if (!new.target) throw Error("Ph·∫£i d√πng new");
  this.name = name;
}
```

#### d. G·ªçi h√†m gi√°n ti·∫øp (`call`, `apply`, `bind`)

* Cho ph√©p thi·∫øt l·∫≠p `this` khi g·ªçi h√†m.

```js
function sayHi() { console.log(this.name); }
sayHi.call({ name: "Alex" }); // Alex
```

---

### 4. Arrow function v√† `this`

* **Arrow function kh√¥ng c√≥ `this` ri√™ng**, k·∫ø th·ª´a t·ª´ **ng·ªØ c·∫£nh b√™n ngo√†i**.

```js
let getThis = () => this;
console.log(getThis() === window); // true
```

* Arrow function g√°n l√†m ph∆∞∆°ng th·ª©c ‚Üí **kh√¥ng n√™n**:

```js
function Person() { this.name = "Thaycacac"; }
Person.prototype.getName = () => this.name;

var person = new Person();
person.getName(); // TypeError
```

---

### 5. `this` trong callback (v√≠ d·ª• `setTimeout`)

* Callback function (anonymous) ‚Üí `this` = global

```js
var a = 10;
setTimeout(function() {
  var a = 20;
  console.log(this.a); // 10 (window.a)
}, 1000);
```

---

### 6. `this` trong DOM event handler

* `this` = **element k√≠ch ho·∫°t event**

```html
<button onclick="console.log(this)">Click me</button>
```

* N·∫øu d√πng h√†m ·∫©n danh trong handler:

```html
<button onclick="console.log((function(){ return this; })());">Click me</button>
```

* Khi ƒë√≥ `this` = global (window).

---

### üîë T·ªïng k·∫øt

1. `this` ph·ª• thu·ªôc **v·ªã tr√≠ g·ªçi h√†m**, kh√¥ng ph·∫£i n∆°i ƒë·ªãnh nghƒ©a.
2. Non-strict mode ‚Üí `this` = global khi g·ªçi h√†m th∆∞·ªùng.
   Strict mode ‚Üí `this` = undefined.
3. Ph∆∞∆°ng th·ª©c ‚Üí `this` = object g·ªçi ph∆∞∆°ng th·ª©c.
4. Arrow function ‚Üí k·∫ø th·ª´a `this` t·ª´ ng·ªØ c·∫£nh b√™n ngo√†i.
5. H√†m kh·ªüi t·∫°o (`new`) ‚Üí `this` = object m·ªõi ƒë∆∞·ª£c t·∫°o.
6. DOM event ‚Üí `this` = element ch·ª©a event.
7. Call, apply, bind ‚Üí c√≥ th·ªÉ t√πy ch·ªânh `this`.

</details>
<details>
<summary><strong>7. Kh·ªüi t·∫°o ƒë·ªëi t∆∞·ª£ng v·ªõi <code>new</code> trong JavaScript</strong></summary>

### 1. M·ª•c ƒë√≠ch c·ªßa `new`

* D√πng ƒë·ªÉ **t·∫°o nhi·ªÅu object t∆∞∆°ng t·ª± nhau** m√† kh√¥ng ph·∫£i vi·∫øt l·∫°i object literal `{...}` nhi·ªÅu l·∫ßn.
* K·∫øt h·ª£p v·ªõi **h√†m kh·ªüi t·∫°o** (constructor function) ƒë·ªÉ t√°i s·ª≠ d·ª•ng code.

---

### 2. H√†m kh·ªüi t·∫°o

* L√† **h√†m b√¨nh th∆∞·ªùng** nh∆∞ng d√πng ƒë·ªÉ kh·ªüi t·∫°o object.
* Quy t·∫Øc:

  * Th∆∞·ªùng vi·∫øt **ch·ªØ c√°i ƒë·∫ßu ti√™n vi·∫øt hoa**.
  * Ch·ªâ n√™n d√πng v·ªõi `new`.
  * Arrow function **kh√¥ng th·ªÉ l√†m h√†m kh·ªüi t·∫°o** (v√¨ kh√¥ng c√≥ `this`).

**V√≠ d·ª•:**

```js
function Point(x, y) {
  this.x = x;
  this.y = y;
}

let root = new Point(0, 0);
console.log(root.x, root.y); // 0 0
```

Khi g·ªçi `new Point(...)`, JavaScript th·ª±c hi·ªán:

1. T·∫°o object r·ªóng ‚Üí g√°n cho `this`.
2. Th·ª±c thi c√°c c√¢u l·ªánh trong h√†m, th√™m thu·ªôc t√≠nh/ph∆∞∆°ng th·ª©c v√†o `this`.
3. Tr·∫£ v·ªÅ `this`.

T∆∞∆°ng ƒë∆∞∆°ng:

```js
let root = { x: 0, y: 0 };
```

---

### 3. H√†m kh·ªüi t·∫°o c√≥/kh√¥ng tham s·ªë

```js
function Point() { this.x = 0; this.y = 0; }
let root = new Point();
console.log(root.x, root.y); // 0 0
```

---

### 4. IIFE v·ªõi `new function(){...}`

```js
let root = new (function() {
  this.x = 1;
  this.y = 2;
})();
console.log(root.x, root.y); // 1 2
```

* H√†m ch·ªâ ƒë∆∞·ª£c g·ªçi **m·ªôt l·∫ßn**, d√πng ƒë·ªÉ **ƒë√≥ng g√≥i code**.

---

### 5. Ki·ªÉm tra `new` v·ªõi `new.target`

```js
function Point() {
  console.log(new.target);
}

Point();       // undefined
new Point();   // ∆í Point() {...}
```

* C√≥ th·ªÉ t·ª± ƒë·ªông th√™m `new` n·∫øu g·ªçi thi·∫øu:

```js
function Point(x, y) {
  if (!new.target) return new Point(x, y);
  this.x = x;
  this.y = y;
}
```

---

### 6. Return trong h√†m kh·ªüi t·∫°o

* **Kh√¥ng return:** m·∫∑c ƒë·ªãnh tr·∫£ v·ªÅ `this`.
* **Return object:** tr·∫£ v·ªÅ object ƒë√≥ thay v√¨ `this`.
* **Return nguy√™n th·ªßy:** b·ªã b·ªè qua, v·∫´n tr·∫£ v·ªÅ `this`.

```js
function Point(x, y) {
  this.x = x;
  this.y = y;
  return { x: 100, y: 100 };
}
let p = new Point(0, 0);
console.log(p.x, p.y); // 100 100

function Point2(x, y) {
  this.x = x;
  this.y = y;
  return 1;
}
let p2 = new Point2(0, 0);
console.log(p2.x, p2.y); // 0 0
```

---

### 7. ƒê·ªãnh nghƒ©a ph∆∞∆°ng th·ª©c trong h√†m kh·ªüi t·∫°o

```js
function Point(x, y) {
  this.x = x;
  this.y = y;
  this.printLog = function() {
    console.log(this.x, this.y);
  };
}

let root = new Point(0, 0);
root.printLog(); // 0 0
```

---

### 8. T·ªïng k·∫øt

1. `new` d√πng v·ªõi **h√†m kh·ªüi t·∫°o** ƒë·ªÉ t·∫°o object m·ªõi.
2. `this` trong h√†m kh·ªüi t·∫°o = object m·ªõi ƒë∆∞·ª£c t·∫°o.
3. Arrow function kh√¥ng th·ªÉ l√†m h√†m kh·ªüi t·∫°o.
4. C√≥ th·ªÉ d√πng `new function(){...}` ƒë·ªÉ t·∫°o object ngay, kh√¥ng t√°i s·ª≠ d·ª•ng.
5. `return` trong h√†m kh·ªüi t·∫°o: object ‚Üí tr·∫£ v·ªÅ object; nguy√™n th·ªßy ‚Üí b·ªè qua.
6. C√≥ th·ªÉ ƒë·ªãnh nghƒ©a ph∆∞∆°ng th·ª©c trong h√†m kh·ªüi t·∫°o.

---

### 9. V√≠ d·ª• th·ª±c h√†nh

**B√†i 1: new A() === new B()**

```js
let obj = {};
function A() { return obj; }
function B() { return obj; }

let a = new A();
let b = new B();

console.log(a === b); // true
```

**B√†i 2: H√†m kh·ªüi t·∫°o Calculator**

```js
function Calculator() {
  this.read = function() {
    this.a = +prompt("Nh·∫≠p s·ªë a:", 0);
    this.b = +prompt("Nh·∫≠p s·ªë b:", 0);
  };
  this.add = function() { return this.a + this.b; };
  this.mul = function() { return this.a * this.b; };
}

let calculator = new Calculator();
calculator.read();
console.log(calculator.add());
console.log(calculator.mul());
```

**B√†i 3: H√†m kh·ªüi t·∫°o Counter**

```js
function Counter(startValue) {
  this.value = startValue;
  this.read = function() {
    this.value += +prompt("Nh·∫≠p s·ªë:", 0);
  };
}

let counter = new Counter(1);
counter.read();
counter.read();
console.log(counter.value);
```

</details>
<details>
<summary><strong>8. ƒê·ªëi t∆∞·ª£ng b·∫•t bi·∫øn (Immutable Object) trong JavaScript</strong></summary>

### 1. Object m·∫∑c ƒë·ªãnh l√† **mutable**

* Object trong JavaScript c√≥ th·ªÉ thay ƒë·ªïi thu·ªôc t√≠nh sau khi kh·ªüi t·∫°o.

```js
let obj = {};
obj.a = 1;      // th√™m thu·ªôc t√≠nh
obj["a"] = 2;   // c·∫≠p nh·∫≠t thu·ªôc t√≠nh
console.log(obj.a); // 2
```

---

### 2. T·∫°o immutable object v·ªõi `Object.defineProperty()`

* **`Object.defineProperty()`** d√πng ƒë·ªÉ ƒë·ªãnh nghƒ©a thu·ªôc t√≠nh m·ªõi ho·∫∑c c·∫≠p nh·∫≠t thu·ªôc t√≠nh c√≥ s·∫µn.
* ƒê·ªÉ l√†m thu·ªôc t√≠nh **ch·ªâ ƒë·ªçc**, set `writable: false`.

```js
let obj = {};
Object.defineProperty(obj, "a", {
  value: 1,
  writable: false, // kh√¥ng th·ªÉ ghi ƒë√®
});

obj.a = 2;
console.log(obj.a); // 1
```

* Trong **strict mode**, khi ghi ƒë√® thu·ªôc t√≠nh read-only s·∫Ω g√¢y l·ªói:

```js
"use strict";
obj.a = 2; 
// Uncaught TypeError: Cannot assign to read only property 'a'
```

#### L∆∞u √Ω:

* `writable` m·∫∑c ƒë·ªãnh = `false` n·∫øu kh√¥ng khai b√°o.
* Mu·ªën thay ƒë·ªïi `writable` t·ª´ `false ‚Üí true`, c·∫ßn `configurable: true`.

```js
let obj = {};
Object.defineProperty(obj, "a", {
  value: 1,
  writable: false,
  configurable: true
});
Object.defineProperty(obj, "a", { writable: true });
obj.a = 2;
console.log(obj.a); // 2
```

---

### 3. T·∫°o immutable object v·ªõi `Object.freeze()`

* **`Object.freeze(obj)`** l√†m **ƒë√≥ng bƒÉng object**:

  1. Kh√¥ng th·ªÉ th√™m thu·ªôc t√≠nh m·ªõi.
  2. Kh√¥ng th·ªÉ c·∫≠p nh·∫≠t thu·ªôc t√≠nh hi·ªán c√≥.
  3. Kh√¥ng th·ªÉ x√≥a thu·ªôc t√≠nh.

```js
let obj = { a: 1 };
Object.freeze(obj);

obj.a = 2; // kh√¥ng thay ƒë·ªïi
obj.b = 3; // kh√¥ng th√™m ƒë∆∞·ª£c
console.log(obj); // { a: 1 }
```

* Trong **strict mode**, ghi ƒë√® thu·ªôc t√≠nh s·∫Ω g√¢y l·ªói:

```js
"use strict";
obj.a = 2; 
// Uncaught TypeError: Cannot assign to read only property 'a'
```

#### L∆∞u √Ω:

* Kh√¥ng th·ªÉ unfreeze object ƒë√£ freeze.
* `Object.freeze()` ch·ªâ l√†m ƒë√≥ng bƒÉng **level 1** (shallow). N·∫øu object c√≥ nested object, nested object v·∫´n mutable.

---

### 4. T·ªïng k·∫øt

| C√°ch                                          | ∆Øu ƒëi·ªÉm                                  | Nh∆∞·ª£c ƒëi·ªÉm                                 |
| --------------------------------------------- | ---------------------------------------- | ------------------------------------------ |
| `Object.defineProperty` v·ªõi `writable: false` | C√≥ th·ªÉ ch·ªçn thu·ªôc t√≠nh b·∫•t bi·∫øn ri√™ng l·∫ª | Mu·ªën thay ƒë·ªïi l·∫°i c·∫ßn `configurable: true` |
| `Object.freeze()`                             | ƒê√≥ng bƒÉng to√†n b·ªô object                 | Kh√¥ng th·ªÉ unfreeze, shallow freeze         |

---

### 5. V√≠ d·ª• th·ª±c t·∫ø

```js
let person = {};
Object.defineProperty(person, "name", { value: "Alex", writable: false });
console.log(person.name); // Alex
person.name = "John";      // kh√¥ng thay ƒë·ªïi
console.log(person.name); // Alex

let settings = { theme: "dark", layout: "grid" };
Object.freeze(settings);
settings.theme = "light";   // kh√¥ng thay ƒë·ªïi
settings.layout = "list";   // kh√¥ng thay ƒë·ªïi
console.log(settings);      // { theme: "dark", layout: "grid" }
```

* S·ª≠ d·ª•ng immutable object gi√∫p **tr√°nh l·ªói do thay ƒë·ªïi tr·∫°ng th√°i ngo√†i √Ω mu·ªën** v√† d·ªÖ d√†ng qu·∫£n l√Ω d·ªØ li·ªáu trong ·ª©ng d·ª•ng l·ªõn.

</details>
<details>
<summary><strong>9. Optional chaining trong JavaScript</strong></summary>

### 1. V·∫•n ƒë·ªÅ v·ªõi thu·ªôc t√≠nh kh√¥ng t·ªìn t·∫°i

* Khi truy c·∫≠p thu·ªôc t√≠nh c·ªßa object l·ªìng nhau, n·∫øu m·ªôt c·∫•p kh√¥ng t·ªìn t·∫°i, s·∫Ω g√¢y l·ªói:

```js
let user2 = {};
console.log(user2.address.street); 
// Uncaught TypeError: Cannot read properties of undefined (reading 'street')
```

* C√°ch truy·ªÅn th·ªëng ƒë·ªÉ tr√°nh l·ªói:

```js
// 1. if
let street1;
if (user2.address) street1 = user2.address.street;

// 2. To√°n t·ª≠ ?:
let street2 = user2.address ? user2.address.street : undefined;

// 3. To√°n t·ª≠ &&
let street3 = user2.address && user2.address.street;
```

* C√°c c√°ch tr√™n d√†i d√≤ng v√† l·∫∑p l·∫°i nhi·ªÅu l·∫ßn.

---

### 2. Optional chaining l√† g√¨?

* K√≠ hi·ªáu: `?.`
* Cho ph√©p **truy c·∫≠p an to√†n** c√°c thu·ªôc t√≠nh ho·∫∑c ph∆∞∆°ng th·ª©c.
* C√∫ ph√°p: `value?.prop`

  * N·∫øu `value` **kh√°c null/undefined**, tr·∫£ v·ªÅ `value.prop`.
  * N·∫øu `value` b·∫±ng `null` ho·∫∑c `undefined`, tr·∫£ v·ªÅ `undefined` m√† kh√¥ng l·ªói.

```js
let user1 = { address: { street: "Hai Ba Trung" } };
console.log(user1?.address?.street); // Hai Ba Trung

let user2 = {};
console.log(user2?.address?.street); // undefined
```

* Th·∫≠m ch√≠ `user` null/undefined c≈©ng kh√¥ng l·ªói:

```js
let user = null;
console.log(user?.address?.street); // undefined
```

#### L∆∞u √Ω:

* Optional chaining **ch·ªâ ki·ªÉm tra gi√° tr·ªã ngay tr∆∞·ªõc `?.`**.

```js
let user = null;
console.log(user.address?.street); 
// ‚ùå L·ªói: Cannot read properties of null (reading 'address')
```

---

### 3. M·ªôt s·ªë ch√∫ √Ω khi d√πng optional chaining

* Kh√¥ng n√™n l·∫°m d·ª•ng; ch·ªâ d√πng khi gi√° tr·ªã null/undefined l√† **c√≥ th·ªÉ ch·∫•p nh·∫≠n ƒë∆∞·ª£c**.
* Bi·∫øn tr∆∞·ªõc `?.` ph·∫£i **ƒë∆∞·ª£c khai b√°o**:

```js
console.log(user?.address); 
// ‚ùå ReferenceError n·∫øu user ch∆∞a khai b√°o
```

* Optional chaining l√†m **short-circuiting**: d·ª´ng x·ª≠ l√Ω n·∫øu null/undefined

```js
let user = null;
let x = 0;
user?.sayHi(x++); // sayHi kh√¥ng ƒë∆∞·ª£c g·ªçi
console.log(x);   // 0
```

---

### 4. Bi·∫øn th·ªÉ c·ªßa optional chaining

1. **V·ªõi ph∆∞∆°ng th·ª©c (?.())**

```js
let userAdmin = { admin() { console.log("I am admin"); } };
let userGuest = {};

userAdmin.admin?.(); // "I am admin"
userGuest.admin?.(); // kh√¥ng g√¨ x·∫£y ra
```

2. **V·ªõi to√°n t·ª≠ \[] (?.\[])**

```js
let user1 = { name: "Alex" };
let user2 = null;

console.log(user1?.["name"]); // Alex
console.log(user2?.["name"]); // undefined
```

3. **V·ªõi delete**

```js
delete user?.name; // x√≥a thu·ªôc t√≠nh n·∫øu user t·ªìn t·∫°i
```

> L∆∞u √Ω: **Kh√¥ng th·ªÉ g√°n gi√° tr·ªã v·ªõi optional chaining**

```js
user?.name = "Alex"; 
// ‚ùå SyntaxError: Invalid left-hand side in assignment
```

---

### 5. T·ªïng k·∫øt

| C√∫ ph√°p          | √ù nghƒ©a                                                                      |
| ---------------- | ---------------------------------------------------------------------------- |
| `obj?.prop`      | Truy c·∫≠p `obj.prop` n·∫øu obj kh√°c null/undefined, ng∆∞·ª£c l·∫°i tr·∫£ v·ªÅ undefined  |
| `obj?.[prop]`    | Truy c·∫≠p `obj[prop]` n·∫øu obj kh√°c null/undefined, ng∆∞·ª£c l·∫°i tr·∫£ v·ªÅ undefined |
| `obj.method?.()` | G·ªçi `obj.method()` n·∫øu method kh√°c null/undefined, ng∆∞·ª£c l·∫°i kh√¥ng g·ªçi       |

* Optional chaining gi√∫p **truy c·∫≠p an to√†n c√°c thu·ªôc t√≠nh l·ªìng nhau** m√† kh√¥ng g√¢y l·ªói.
* N√™n d√πng khi **gi√° tr·ªã null/undefined l√† h·ª£p l√Ω**; kh√¥ng l·∫°m d·ª•ng ƒë·ªÉ che gi·∫•u l·ªói logic.

</details>
<details>
<summary><strong>10. Symbol trong JavaScript</strong></summary>

### 1. Symbol l√† g√¨?

* Symbol l√† **ki·ªÉu d·ªØ li·ªáu nguy√™n th·ªßy (primitive data)**, ƒë∆∞·ª£c gi·ªõi thi·ªáu t·ª´ ES6.
* T·∫°o Symbol m·ªõi:

```js
let myId = Symbol();
let myId2 = Symbol("id"); // c√≥ description
```

* **Kh√¥ng th·ªÉ d√πng `new`** v·ªõi Symbol:

```js
let myId = new Symbol("id"); // ‚ùå TypeError
```

---

### 2. M·ªôt s·ªë ƒë·∫∑c ƒëi·ªÉm c·ªßa Symbol

1. **Symbol lu√¥n duy nh·∫•t**

```js
let a = Symbol("id");
let b = Symbol("id");
console.log(a === b); // false
```

2. **Symbol kh√¥ng t·ª± convert sang string**

```js
let s = Symbol("id");
console.log(String(s)); // "Symbol(id)"
console.log(s + "");     // ‚ùå TypeError
```

---

### 3. Global Symbol

#### Symbol.for(key)

* T·∫°o ho·∫∑c truy xu·∫•t **Symbol trong Global Symbol Registry** d·ª±a tr√™n key:

```js
let id1 = Symbol.for("id"); // t·∫°o m·ªõi
let id2 = Symbol.for("id"); // tr·∫£ v·ªÅ Symbol ƒë√£ t·ªìn t·∫°i
console.log(id1 === id2);   // true
```

#### Symbol.keyFor(symbol)

* L·∫•y **key t·ª´ Global Symbol**:

```js
let sym1 = Symbol("id");
console.log(Symbol.keyFor(sym1)); // undefined

let sym2 = Symbol.for("name");
console.log(Symbol.keyFor(sym2)); // "name"
```

---

### 4. ·ª®ng d·ª•ng c·ªßa Symbol

#### 4.1 Symbol l√†m key cho object

* Thu·ªôc t√≠nh v·ªõi Symbol **non-enumerable** (kh√¥ng l·∫∑p v·ªõi `for...in`):

```js
const id = Symbol("id");
const obj = { [id]: "abc123", x: 1 };

console.log(obj); // {x: 1, Symbol(id): "abc123"}

for (let key in obj) console.log(key); 
// x
```

* L·∫•y t·∫•t c·∫£ key l√† Symbol:

```js
console.log(Object.getOwnPropertySymbols(obj)); 
// [Symbol(id)]
```

#### 4.2 Tr√°nh xung ƒë·ªôt t√™n

* Khi d√πng key d·∫°ng string, d·ªÖ b·ªã ghi ƒë√®:

```js
let module = { id: "abc", printId() { console.log(this.id); } };
module.id = "123";
module.printId(); // "123"
```

* D√πng Symbol l√†m key:

```js
let id = Symbol("id");
let module = { [id]: "abc", printId() { console.log(this[id]); } };

let id2 = Symbol("id");
module[id2] = "123";

module.printId(); // "abc"  ‚Üí kh√¥ng b·ªã ghi ƒë√®
```

---

### 5. T·ªïng k·∫øt

* Symbol l√† **ki·ªÉu d·ªØ li·ªáu nguy√™n th·ªßy, lu√¥n duy nh·∫•t**.
* T·∫°o Symbol: `Symbol(description)`.
* Symbol c√≥ th·ªÉ ƒë∆∞·ª£c d√πng l√†m **key trong object** ƒë·ªÉ tr√°nh xung ƒë·ªôt t√™n.
* D√πng `Symbol.for(key)` v√† `Symbol.keyFor(symbol)` ƒë·ªÉ **chia s·∫ª Symbol trong global registry**.
* Symbol **kh√¥ng t·ª± convert sang string**, non-enumerable trong `for...in`.

</details>
<details>
<summary><strong>11. Chuy·ªÉn ƒë·ªïi Object v·ªÅ ki·ªÉu d·ªØ li·ªáu nguy√™n th·ªßy trong JavaScript</strong></summary>

### 1. Quy t·∫Øc c∆° b·∫£n

* Object khi chuy·ªÉn ƒë·ªïi **v·ªÅ boolean** lu√¥n l√† `true`:

```js
let obj = {};
console.log(Boolean(obj)); // true
if (obj) console.log("obj is true");
```

* **V·ªÅ string**: khi object xu·∫•t hi·ªán trong ng·ªØ c·∫£nh c·∫ßn string (`alert`, key object kh√°c...) ‚Üí JavaScript d√πng `[object Object]` m·∫∑c ƒë·ªãnh:

```js
let obj = {};
alert(obj); // [object Object]

let anotherObj = {};
anotherObj[obj] = 1;
console.log(anotherObj["[object Object]"]); // 1
```

* **V·ªÅ number**: khi object xu·∫•t hi·ªán trong ng·ªØ c·∫£nh s·ªë h·ªçc (`+`, `Number()`, tr·ª´ date, so s√°nh) ‚Üí JavaScript chuy·ªÉn ƒë·ªïi v·ªÅ number:

```js
let obj = {};
console.log(Number(obj)); // NaN
console.log(+obj);       // NaN
```

* **Ng·ªØ c·∫£nh kh√¥ng r√µ (default)**: v√≠ d·ª• `obj1 + obj2`, `user == 1` ‚Üí JS s·∫Ω d√πng quy t·∫Øc m·∫∑c ƒë·ªãnh.

---

### 2. C√°ch JavaScript chuy·ªÉn object v·ªÅ ki·ªÉu nguy√™n th·ªßy

1. **N·∫øu object c√≥ `Symbol.toPrimitive`** ‚Üí g·ªçi `obj[Symbol.toPrimitive](hint)`:

```js
let user = {
  name: "Alex",
  age: 28,
  [Symbol.toPrimitive](hint) {
    return hint === "string" ? `{name: ${this.name}}` : this.age;
  },
};

alert(user);     // {name: Alex}   ‚Üí hint = "string"
alert(+user);    // 28             ‚Üí hint = "number"
alert(user + 1); // 29             ‚Üí hint = "default"
```

2. **N·∫øu kh√¥ng c√≥ `Symbol.toPrimitive`**, JS d√πng **toString** v√† **valueOf**:

* hint = string ‚Üí ∆∞u ti√™n `toString()`, n·∫øu kh√¥ng c√≥ th√¨ `valueOf()`.
* hint = number/default ‚Üí ∆∞u ti√™n `valueOf()`, n·∫øu kh√¥ng c√≥ th√¨ `toString()`.

V√≠ d·ª• t√πy bi·∫øn `toString` v√† `valueOf`:

```js
let user = {
  name: "Alex",
  age: 28,
  toString() { return `{name: ${this.name}}`; },
  valueOf() { return this.age; }
};

alert(user);     // {name: Alex}  ‚Üí string
alert(+user);    // 28            ‚Üí number
alert(user + 1); // 29            ‚Üí default
```

* L∆∞u √Ω: gi√° tr·ªã tr·∫£ v·ªÅ **c√≥ th·ªÉ l√† b·∫•t k·ª≥ ki·ªÉu nguy√™n th·ªßy n√†o**, ch·ªâ c·∫ßn kh√°c object:

```js
let user = {
  toString() { return true; },
  valueOf() { return null; }
};

alert(user);     // true
alert(+user);    // 0   (+null = 0)
alert(user + 1); // 1   (null + 1 = 1)
```

---

### 3. M·ªôt s·ªë l∆∞u √Ω kh√°c

* M·ªôt s·ªë to√°n t·ª≠ trong JS (nh∆∞ `*`, `-`, `/`) s·∫Ω t·ª± convert object v·ªÅ s·ªë n·∫øu object ch∆∞a ph·∫£i number.

```js
let obj = { [Symbol.toPrimitive](hint) { return "3"; } };
console.log(obj * 2); // 6
```

* Qu√° tr√¨nh:

  1. Object ‚Üí nguy√™n th·ªßy (Symbol.toPrimitive ‚Üí "3")
  2. To√°n t·ª≠ s·ªë h·ªçc convert string "3" ‚Üí 3
  3. T√≠nh to√°n ‚Üí 3 \* 2 = 6

---

### 4. T√≥m t·∫Øt quy t·∫Øc chuy·ªÉn object ‚Üí primitive

| Quy t·∫Øc                                               | Th·ª© t·ª± ki·ªÉm tra                     |
| ----------------------------------------------------- | ----------------------------------- |
| C√≥ `Symbol.toPrimitive`                               | G·ªçi `obj[Symbol.toPrimitive](hint)` |
| Kh√¥ng c√≥ `Symbol.toPrimitive` + hint = string         | `toString()` ‚Üí `valueOf()`          |
| Kh√¥ng c√≥ `Symbol.toPrimitive` + hint = number/default | `valueOf()` ‚Üí `toString()`          |

* Hint c√≥ th·ªÉ l√†: `"string"`, `"number"`, `"default"`.

---

### 5. Tham kh·∫£o

* [ECMAScript `ToPrimitive`](https://262.ecma-international.org/)
* [Object to primitive conversion - MDN](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol/toPrimitive)

</details>
