## ğŸ§­ Catch-all Routes (Báº¯t táº¥t cáº£ Ä‘Æ°á»ng dáº«n con)

Catch-all routes giÃºp báº¡n táº¡o **route Ä‘á»™ng linh hoáº¡t**, cho phÃ©p nháº­n **nhiá»u segment** trong URL cÃ¹ng lÃºc â€” thÆ°á»ng dÃ¹ng cho blog, docs, hoáº·c há»‡ thá»‘ng cÃ³ Ä‘Æ°á»ng dáº«n tá»± do.

---

### ğŸ§± 1ï¸âƒ£ Cáº¥u trÃºc thÆ° má»¥c

VÃ­ dá»¥:

```
app/docs/[...slug]/page.tsx
```

â¡ URL há»£p lá»‡:

| URL                           | params.slug                       |
| ----------------------------- | --------------------------------- |
| /docs                         | undefined                         |
| /docs/getting-started         | ["getting-started"]               |
| /docs/nextjs/routing          | ["nextjs", "routing"]             |
| /docs/nextjs/app-router/intro | ["nextjs", "app-router", "intro"] |

---

### ğŸ§© 2ï¸âƒ£ Code máº«u

```tsx
// app/docs/[...slug]/page.tsx

interface DocsPageProps {
  params: {
    slug?: string[];
  };
}

export default function DocsPage({ params }: DocsPageProps) {
  const slug = params.slug || [];

  return (
    <div style={{ padding: "1rem" }}>
      <h1>ğŸ“˜ Catch-all Route Example</h1>
      <p>
        <strong>Segments:</strong> {slug.join(" / ") || "(no segments)"}
      </p>
      <pre style={{ background: "#f4f4f4", padding: "1rem" }}>
        {JSON.stringify(params, null, 2)}
      </pre>
    </div>
  );
}
```

---

### ğŸ§  3ï¸âƒ£ Giáº£i thÃ­ch

* `[...slug]` = â€œbáº¯t táº¥t cáº£ cÃ¡c segment cÃ²n láº¡iâ€
* `slug` lÃ  máº£ng chá»©a cÃ¡c pháº§n trong URL
* Náº¿u khÃ´ng cÃ³ segment nÃ o â†’ `slug` sáº½ lÃ  `undefined` hoáº·c `[]`

---

### âš¡ 4ï¸âƒ£ Optional Catch-all Route

Náº¿u báº¡n chá»‰ dÃ¹ng `[...slug]`, thÃ¬ `/docs` **sáº½ 404**.
Äá»ƒ trÃ¡nh Ä‘iá»u nÃ y, dÃ¹ng **`[[...slug]]`** (double bracket):

```
app/docs/[[...slug]]/page.tsx
```

â†’ `/docs` hoáº¡t Ä‘á»™ng bÃ¬nh thÆ°á»ng, `params.slug` = `undefined`

---

### ğŸ§© 5ï¸âƒ£ Khi nÃ o dÃ¹ng

* Há»‡ thá»‘ng tÃ i liá»‡u (Docs)
* URL SEO-friendly nhiá»u táº§ng
* Breadcrumb navigation
* Multi-level category / tag pages


Giá» ta lÃ m vÃ­ dá»¥ nÃ¢ng cao cho **Catch-all Routes** â€” xÃ¢y dá»±ng **Docs Page** cÃ³ **breadcrumb tá»± Ä‘á»™ng**, giÃºp hiá»ƒu rÃµ cÃ¡ch xá»­ lÃ½ `params.slug`.

---

## ğŸ§­  á»¨ng dá»¥ng thá»±c táº¿: Breadcrumb trong Catch-all Routes

### ğŸ¯ Má»¥c tiÃªu

* Hiá»ƒu cÃ¡ch chuyá»ƒn máº£ng `params.slug` thÃ nh Ä‘Æ°á»ng dáº«n breadcrumb Ä‘á»™ng
* Hiá»ƒn thá»‹ tá»«ng cáº¥p cá»§a Ä‘Æ°á»ng dáº«n tÃ i liá»‡u nhÆ° `/docs/nextjs/routing/intro`

---

### ğŸ“‚ Cáº¥u trÃºc

```
app/
â””â”€â”€ docs/
    â””â”€â”€ [[...slug]]/
        â””â”€â”€ page.tsx
```

---

### ğŸ’¡ `page.tsx`

```tsx
// app/docs/[[...slug]]/page.tsx
"use client";
import Link from "next/link";

interface DocsPageProps {
  params: {
    slug?: string[];
  };
}

export default function DocsPage({ params }: DocsPageProps) {
  const slug = params.slug || [];

  // ğŸ§­ Táº¡o breadcrumb Ä‘á»™ng
  const breadcrumbs = slug.map((segment, index) => {
    const href = "/docs/" + slug.slice(0, index + 1).join("/");
    const label = segment.replace(/-/g, " ");
    return { href, label };
  });

  return (
    <div style={{ padding: "1rem" }}>
      <h1>ğŸ“š Documentation</h1>

      {/* ğŸ”— Breadcrumb */}
      <nav style={{ marginBottom: "1rem" }}>
        <Link href="/docs">Docs</Link>
        {breadcrumbs.map((crumb, i) => (
          <span key={i}>
            {" / "}
            <Link href={crumb.href}>{crumb.label}</Link>
          </span>
        ))}
      </nav>

      {/* ğŸ“„ Ná»™i dung mÃ´ phá»ng */}
      <section>
        {slug.length > 0 ? (
          <p>
            You are viewing docs for:{" "}
            <strong>{slug.join(" / ")}</strong>
          </p>
        ) : (
          <p>Welcome to the main Docs page!</p>
        )}
      </section>

      {/* ğŸ§© Debug */}
      <pre style={{ background: "#f7f7f7", padding: "1rem", marginTop: "1rem" }}>
        {JSON.stringify(params, null, 2)}
      </pre>
    </div>
  );
}
```

---

### âš™ï¸ Giáº£i thÃ­ch

* `[[...slug]]` cho phÃ©p cáº£ `/docs` vÃ  `/docs/.../.../...`
* Khi `/docs/nextjs/routing/intro`:

  ```js
  params.slug = ["nextjs", "routing", "intro"];
  ```
* Breadcrumb tá»± sinh:

  ```
  Docs / nextjs / routing / intro
  ```

  â†’ má»—i pháº§n Ä‘á»u cÃ³ thá»ƒ click Ä‘iá»u hÆ°á»›ng.

---

### âœ… Káº¿t quáº£

| URL                          | Breadcrumb                      |
| ---------------------------- | ------------------------------- |
| `/docs`                      | Docs                            |
| `/docs/nextjs`               | Docs / nextjs                   |
| `/docs/nextjs/routing`       | Docs / nextjs / routing         |
| `/docs/nextjs/routing/intro` | Docs / nextjs / routing / intro |

---

### ğŸ’¬ BÃ i táº­p nhá»

> HÃ£y má»Ÿ rá»™ng vÃ­ dá»¥ trÃªn:
>
> * Khi click breadcrumb, hiá»ƒn thá»‹ ná»™i dung giáº£ láº­p tÆ°Æ¡ng á»©ng (vÃ­ dá»¥: â€œTrang: Next.js Routing Introâ€)
> * ThÃªm CSS nhá» Ä‘á»ƒ breadcrumb cÃ³ hover mÃ u xanh nháº¡t.


---
[<< BÃ€I 08](./08.md) | [BÃ€I 10 >>](./10.md)