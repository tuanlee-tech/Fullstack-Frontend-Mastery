## ğŸ§­ PHáº¦N 4 â€“ Advanced Routing trong Next.js

### ğŸ¯ Má»¥c tiÃªu

* Hiá»ƒu cÃ¡c tÃ­nh nÄƒng nÃ¢ng cao cá»§a **App Router**:

  * **Parallel Routes**
  * **Unmatched Routes**
  * **Conditional Routes**
  * **Intercepting Routes**
  * **Parallel Intercepting Routes**
* TÄƒng kháº£ nÄƒng tá»• chá»©c app lá»›n vá»›i nhiá»u route phá»©c táº¡p.

---

## 4.1 â€“ Parallel Routes

* Cho phÃ©p render **nhiá»u outlet song song** trong cÃ¹ng má»™t layout mÃ  khÃ´ng pháº£i nested route.
* Cáº¥u trÃºc thÆ° má»¥c: sá»­ dá»¥ng **`(group)`** Ä‘á»ƒ phÃ¢n tÃ¡ch route mÃ  khÃ´ng áº£nh hÆ°á»Ÿng Ä‘áº¿n URL.

```txt
app/
â”œâ”€â”€ dashboard/
â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”œâ”€â”€ (overview)/page.tsx
â”‚   â””â”€â”€ (analytics)/page.tsx
```

* `/dashboard` cÃ³ thá»ƒ render **cáº£ overview vÃ  analytics cÃ¹ng lÃºc** trong layout.

---

## 4.2 â€“ Unmatched Routes

* Cho phÃ©p báº¯t cÃ¡c route **khÃ´ng khá»›p vá»›i báº¥t ká»³ page nÃ o**
* DÃ¹ng **`not-found.tsx`** hoáº·c **catch-all dynamic routes**
* ThÆ°á»ng dÃ¹ng cho **404 pages** hoáº·c redirect.

---

## 4.3 â€“ Conditional Routes

* Render má»™t route **dá»±a trÃªn Ä‘iá»u kiá»‡n runtime**, vÃ­ dá»¥:

  * User role
  * Feature flag
* ThÆ°á»ng káº¿t há»£p vá»›i **Server Components + Auth**.

---

## 4.4 â€“ Intercepting Routes

* Cho phÃ©p route **intercept navigation** mÃ  khÃ´ng thay Ä‘á»•i URL.
* VÃ­ dá»¥: modal, drawer, onboarding wizard.

```
app/
â”œâ”€â”€ dashboard/
â”‚   â”œâ”€â”€ page.tsx
â”‚   â””â”€â”€ (modal)/settings/page.tsx
```

* `/dashboard/(modal)/settings` cÃ³ thá»ƒ **hiá»‡n modal trÃªn dashboard** mÃ  URL váº«n lÃ  `/dashboard`.

---

## 4.5 â€“ Parallel Intercepting Routes

* Káº¿t há»£p **Parallel + Intercepting** Ä‘á»ƒ táº¡o cÃ¡c layout complex:

  * Sidebar vÃ  content load song song
  * Modal overlay load song song

* Cáº¥u trÃºc thÆ° má»¥c **sá»­ dá»¥ng cÃ¡c route groups `(group)`** vÃ  intercepting route `(modal)`.

---


## ğŸ§­ Parallel Routes trong Next.js

### ğŸ¯ Má»¥c tiÃªu

* Hiá»ƒu cÃ¡ch render **nhiá»u outlet song song** trong cÃ¹ng má»™t layout.
* KhÃ´ng cáº§n nested route Ä‘á»ƒ render nhiá»u component khÃ¡c nhau cÃ¹ng lÃºc.
* GiÃºp quáº£n lÃ½ **dashboard, sidebar, header, modal** Ä‘á»“ng thá»i trong cÃ¹ng má»™t layout.

---

## ğŸ§± 1ï¸âƒ£ Cáº¥u trÃºc thÆ° má»¥c

Sá»­ dá»¥ng **route groups `(group)`** Ä‘á»ƒ táº¡o Parallel Routes:

```txt
app/
â”œâ”€â”€ dashboard/
â”‚   â”œâ”€â”€ layout.tsx
â”‚   â”œâ”€â”€ page.tsx
â”‚   â”œâ”€â”€ (overview)/page.tsx
â”‚   â””â”€â”€ (analytics)/page.tsx
```

* `(overview)` vÃ  `(analytics)` lÃ  **route group**, **khÃ´ng áº£nh hÆ°á»Ÿng URL**.
* Layout `dashboard/layout.tsx` sáº½ render song song cáº£ 2 outlet.

---

## ğŸ§© 2ï¸âƒ£ Dashboard Layout vÃ­ dá»¥

```tsx
// app/dashboard/layout.tsx
export default function DashboardLayout({ children }: { children: React.ReactNode }) {
  return (
    <div style={{ display: "flex", gap: "1rem" }}>
      <aside style={{ flex: 1, borderRight: "1px solid #ddd", padding: "1rem" }}>
        <h3>Sidebar</h3>
        <ul>
          <li><a href="/dashboard">Overview</a></li>
          <li><a href="/dashboard/analytics">Analytics</a></li>
        </ul>
      </aside>
      <main style={{ flex: 3 }}>
        {children} {/* ÄÃ¢y lÃ  outlet song song */}
      </main>
    </div>
  );
}
```

* `children` sáº½ nháº­n **ná»™i dung tá»« táº¥t cáº£ route group Ä‘ang active**.

---

## ğŸ“„ 3ï¸âƒ£ Pages song song

```tsx
// app/dashboard/(overview)/page.tsx
export default function OverviewPage() {
  return <div><h2>Overview</h2><p>Dashboard overview content</p></div>;
}

// app/dashboard/(analytics)/page.tsx
export default function AnalyticsPage() {
  return <div><h2>Analytics</h2><p>Analytics metrics content</p></div>;
}
```

* Náº¿u báº¡n render `/dashboard`, cáº£ **Overview vÃ  Analytics** cÃ³ thá»ƒ xuáº¥t hiá»‡n cÃ¹ng lÃºc trong layout.

---

## ğŸ’¡ 4ï¸âƒ£ Lá»£i Ã­ch

* KhÃ´ng pháº£i nested route phá»©c táº¡p.
* Dá»… má»Ÿ rá»™ng cho dashboard phá»©c táº¡p, sidebar + header + content load song song.
* Giá»¯ tráº¡ng thÃ¡i layout khi chuyá»ƒn giá»¯a cÃ¡c route group.



---
[<< BÃ€I 25](./25.md) | [BÃ€I 27 >>](./27.md)