 **Nested Layouts (Layout lá»“ng nhau)** â€” má»™t trong nhá»¯ng cÆ¡ cháº¿ máº¡nh nháº¥t cá»§a **Next.js App Router**, giÃºp **tÃ¡i sá»­ dá»¥ng giao diá»‡n vÃ  cáº¥u trÃºc** cho tá»«ng nhÃ³m trang mÃ  khÃ´ng láº·p code.

---

# ğŸ¯ Má»¥c tiÃªu bÃ i há»c

Hiá»ƒu cÃ¡ch **layout cha vÃ  layout con** phá»‘i há»£p vá»›i nhau trong App Router:

* Má»—i thÆ° má»¥c cÃ³ thá»ƒ cÃ³ **layout riÃªng**
* Layout **Ä‘Æ°á»£c káº¿ thá»«a theo cáº¥u trÃºc thÆ° má»¥c**
* Cho phÃ©p táº¡o cÃ¡c vÃ¹ng cÃ³ **giao diá»‡n, navigation, sidebar, header khÃ¡c nhau** trong cÃ¹ng á»©ng dá»¥ng

---

## ğŸ§­ VÃ­ dá»¥ thÆ° má»¥c

```
app/
â”œâ”€â”€ layout.tsx          â† Root Layout (toÃ n site)
â”œâ”€â”€ page.tsx            â† Home page
â””â”€â”€ dashboard/
    â”œâ”€â”€ layout.tsx      â† Layout riÃªng cho Dashboard
    â”œâ”€â”€ page.tsx        â† Dashboard home
    â””â”€â”€ settings/
        â””â”€â”€ page.tsx    â† Trang con trong Dashboard
```

---

## ğŸ“„ `app/layout.tsx` â€“ Root Layout (toÃ n site)

```tsx
import Link from "next/link";

export default function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <html lang="en">
      <body className="font-sans bg-gray-50 text-gray-900">
        <header className="border-b p-4 bg-white shadow">
          <nav className="flex gap-4">
            <Link href="/">Home</Link>
            <Link href="/dashboard">Dashboard</Link>
          </nav>
        </header>
        <main className="p-6">{children}</main>
      </body>
    </html>
  );
}
```

---

## ğŸ“„ `app/page.tsx`

```tsx
export default function HomePage() {
  return (
    <div>
      <h1 className="text-2xl font-semibold">ğŸ  Home Page</h1>
      <p>This is the main homepage of our site.</p>
    </div>
  );
}
```

---

## ğŸ“„ `app/dashboard/layout.tsx` â€“ Layout riÃªng cho Dashboard

```tsx
import Link from "next/link";

export default function DashboardLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <section className="flex min-h-screen">
      {/* Sidebar */}
      <aside className="w-64 bg-gray-100 p-6 border-r">
        <h2 className="text-lg font-bold mb-4">ğŸ“Š Dashboard</h2>
        <nav className="flex flex-col gap-2">
          <Link href="/dashboard">Overview</Link>
          <Link href="/dashboard/settings">Settings</Link>
        </nav>
      </aside>

      {/* Ná»™i dung chÃ­nh */}
      <div className="flex-1 p-8 bg-white">{children}</div>
    </section>
  );
}
```

---

## ğŸ“„ `app/dashboard/page.tsx`

```tsx
export default function DashboardHome() {
  return (
    <div>
      <h1 className="text-2xl font-semibold">ğŸ“ˆ Dashboard Overview</h1>
      <p>Welcome to your dashboard overview section.</p>
    </div>
  );
}
```

---

## ğŸ“„ `app/dashboard/settings/page.tsx`

```tsx
export default function DashboardSettings() {
  return (
    <div>
      <h1 className="text-2xl font-semibold">âš™ï¸ Settings</h1>
      <p>Here you can configure your dashboard preferences.</p>
    </div>
  );
}
```

---

## ğŸ” Káº¿t quáº£ khi cháº¡y

| URL                   | Layout nÃ o Ä‘Æ°á»£c render         |
| --------------------- | ------------------------------ |
| `/`                   | Root Layout                    |
| `/dashboard`          | Root Layout â†’ Dashboard Layout |
| `/dashboard/settings` | Root Layout â†’ Dashboard Layout |

â¡ï¸ Khi báº¡n chuyá»ƒn giá»¯a `/dashboard` vÃ  `/dashboard/settings`, **Dashboard Layout khÃ´ng bá»‹ re-render**, chá»‰ thay Ä‘á»•i pháº§n `children` bÃªn trong.
Äiá»u nÃ y giÃºp **hiá»‡u nÄƒng cao** vÃ  **UI mÆ°á»£t mÃ  hÆ¡n ráº¥t nhiá»u**.

---

## ğŸ’¡ Ghi nhá»›

* Má»—i `layout.tsx` lÃ  **báº¯t buá»™c pháº£i cÃ³ `{children}`** â€” nÃ³ lÃ  nÆ¡i trang con Ä‘Æ°á»£c hiá»ƒn thá»‹.
* Layout cÃ³ thá»ƒ **lá»“ng nhiá»u cáº¥p** â€” Next.js tá»± Ä‘á»™ng **káº¿t há»£p** layout cha vÃ  con.
* DÃ¹ng layout riÃªng Ä‘á»ƒ tÃ¡ch biá»‡t cÃ¡c khu vá»±c logic (vÃ­ dá»¥: user vs admin).


---
[<< BÃ€I 14](./14.md) | [BÃ€I 16 >>](./16.md)