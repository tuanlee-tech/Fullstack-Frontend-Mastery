## 🏗 **Cấu trúc thư mục hoàn chỉnh**

```
app/
├── layout.tsx
├── page.tsx
├── about/
│   ├── layout.tsx
│   └── page.tsx
└── dashboard/
    ├── layout.tsx
    ├── page.tsx
    └── settings/
        └── page.tsx
```

---

## 🧩 **1️⃣ app/layout.tsx — Root Layout**

```tsx
// app/layout.tsx
import "./globals.css";

export const metadata = {
  title: "Next.js App Router Demo",
  description: "Understanding Layout & Routing Structure",
};

export default function RootLayout({ children }: { children: React.ReactNode }) {
  return (
    <html lang="en">
      <body>
        <header style={{ background: "#222", color: "#fff", padding: "1rem" }}>
          🌸 My Global Header
        </header>
        <main style={{ padding: "2rem" }}>{children}</main>
        <footer style={{ background: "#eee", padding: "1rem", marginTop: "2rem" }}>
          © 2025 My Company
        </footer>
      </body>
    </html>
  );
}
```

🧠 **Giải thích:**
Đây là **root layout** — bao quanh toàn bộ ứng dụng (global header/footer).
Nó chỉ render lại **1 lần duy nhất**, không reset khi chuyển trang.

---

## 🏠 **2️⃣ app/page.tsx — Trang chủ**

```tsx
// app/page.tsx
export default function HomePage() {
  return (
    <section>
      <h1>🏡 Welcome to Next.js App Router</h1>
      <p>Đây là trang chủ mặc định của ứng dụng.</p>
    </section>
  );
}
```

---

## 📘 **3️⃣ app/about/layout.tsx — Layout riêng cho /about**

```tsx
// app/about/layout.tsx
export default function AboutLayout({ children }: { children: React.ReactNode }) {
  return (
    <section style={{ border: "2px solid blue", padding: "1rem" }}>
      <header style={{ fontWeight: "bold", color: "blue" }}>📘 About Section</header>
      <div>{children}</div>
    </section>
  );
}
```

📌 **Layout này chỉ áp dụng cho /about và các route con của nó**, không ảnh hưởng đến các phần khác.

---

## 📄 **4️⃣ app/about/page.tsx — Trang /about**

```tsx
// app/about/page.tsx
export default function AboutPage() {
  return (
    <article>
      <h2>Giới thiệu về Next.js App Router</h2>
      <p>
        App Router là kiến trúc routing mới của Next.js (v13+), cho phép tách biệt rõ ràng
        giữa <strong>Server Components</strong> và <strong>Client Components</strong>,
        hỗ trợ layout lồng nhau, streaming, và server actions.
      </p>
    </article>
  );
}
```

---

## ⚙️ **5️⃣ app/dashboard/layout.tsx — Layout riêng cho /dashboard**

```tsx
// app/dashboard/layout.tsx
export default function DashboardLayout({ children }: { children: React.ReactNode }) {
  return (
    <section style={{ border: "2px solid green", padding: "1rem" }}>
      <header style={{ fontWeight: "bold", color: "green" }}>📊 Dashboard Panel</header>
      <div>{children}</div>
    </section>
  );
}
```

---

## 🧭 **6️⃣ app/dashboard/page.tsx — Trang /dashboard**

```tsx
// app/dashboard/page.tsx
export default function DashboardPage() {
  return (
    <div>
      <h2>📈 Dashboard</h2>
      <p>Chào mừng bạn đến trang tổng quan người dùng.</p>
    </div>
  );
}
```

---

## ⚙️ **7️⃣ app/dashboard/settings/page.tsx — Trang /dashboard/settings**

```tsx
// app/dashboard/settings/page.tsx
export default function SettingsPage() {
  return (
    <div>
      <h2>⚙️ Cấu hình người dùng</h2>
      <p>Tại đây bạn có thể thay đổi thông tin cá nhân, bảo mật, và tùy chọn giao diện.</p>
    </div>
  );
}
```

---

## ✅ **Kết quả khi chạy**

| URL                   | Kết quả                                          |
| --------------------- | ------------------------------------------------ |
| `/`                   | Hiển thị trang chủ (Root Layout)                 |
| `/about`              | Có layout riêng màu xanh + nội dung giới thiệu   |
| `/dashboard`          | Có layout riêng màu xanh lá + nội dung Dashboard |
| `/dashboard/settings` | Dùng chung layout Dashboard + nội dung riêng     |

---

## 💡 **Điều bạn nên hiểu sâu ở bài này:**

1. **Mỗi folder = 1 route segment.**
2. **Mỗi segment có thể có layout riêng.**
3. **Layouts được lồng vào nhau theo cây thư mục.**
4. **Chuyển trang không reload layout cha.**
5. **Các file page.tsx chỉ là phần nội dung — layout mới là phần khung.**



---
[<< BÀI 03](./03.md) | [BÀI 05 >>](./05.md)