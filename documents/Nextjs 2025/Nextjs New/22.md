
## 🧭 Programmatic Navigation trong Next.js

### 🎯 Mục tiêu

* Hiểu cách **di chuyển giữa các page bằng code** (không cần `<Link>` trực tiếp)
* Biết cách **redirect sau action**, **navigating trong sự kiện** hoặc **theo điều kiện**

---

## 🧱 1️⃣ useRouter & navigate

Trong App Router mới, thay vì `useRouter` từ `next/router`, bạn dùng **`useRouter` từ `next/navigation`**:

```tsx
"use client";

import { useRouter } from "next/navigation";

export default function NavigateButton() {
  const router = useRouter();

  const goToDashboard = () => {
    router.push("/dashboard");
  };

  return <button onClick={goToDashboard}>Go to Dashboard</button>;
}
```

---

## 🧩 2️⃣ Các phương thức

| Method                 | Mô tả                                                  |
| ---------------------- | ------------------------------------------------------ |
| `router.push(url)`     | Điều hướng tới url mới, thêm vào lịch sử browser       |
| `router.replace(url)`  | Điều hướng nhưng thay thế entry hiện tại trong history |
| `router.refresh()`     | Reload lại page hiện tại, lấy dữ liệu mới              |
| `router.back()`        | Quay lại trang trước đó                                |
| `router.prefetch(url)` | Tiền tải trước page để tăng tốc navigation             |

---

## 📄 3️⃣ Ví dụ redirect sau submit form

```tsx
"use client";

import { useRouter } from "next/navigation";

export default function SubmitForm() {
  const router = useRouter();

  const handleSubmit = async () => {
    // Giả lập submit API
    await fetch("/api/save", { method: "POST" });
    
    // Redirect tới /thank-you
    router.push("/thank-you");
  };

  return <button onClick={handleSubmit}>Submit</button>;
}
```

---

## 💡 4️⃣ Lưu ý

* Chỉ dùng trong **Client Component** (`"use client"`)
* Phù hợp cho **redirect sau action**, **navigating trong event**
* Nếu cần **server redirect**, dùng **`redirect()` trong route handler**

---


[<< BÀI 21](./21.md) | [BÀI 23 >>](./23.md)